import { h, v, p, _ as _extends } from './index-59182f33.js';

const DateLinebreak = ({
  datetime
}) => {
  return h("div", {
    style: {
      display: 'flex'
    }
  }, h("div", {
    style: {
      flex: '1'
    }
  }, h("hr", null)), h("div", {
    style: {
      fontSize: 10,
      color: '#737373'
    }
  }, new Date(datetime).toLocaleDateString()), h("div", {
    style: {
      flex: 1
    }
  }, h("hr", null)));
};

const MessageAligner = ({
  children,
  side,
  style
}) => {
  const alignment = side === "left" ? "flex-start" : "flex-end";
  return h("div", {
    style: {
      display: "flex",
      justifyContent: alignment,
      ...style
    }
  }, children);
};

const MessageView = ({
  message,
  datetime
}) => h("div", {
  style: {
    borderRadius: 15,
    //borderColor: '#9E9E9E',
    //borderStyle: 'solid',
    //borderWidth: 2,
    maxWidth: '100%',
    wordWrap: 'break-word',
    wordBreak: 'break-all',
    minWidth: '30%'
  }
}, h("div", {
  style: {
    backgroundColor: '#ffffff',
    padding: 5,
    margin: 2,
    borderRadius: 50
  }
}, message), h("div", {
  style: {
    fontSize: 10,
    paddingTop: 2,
    textAlign: 'end'
  }
}, h("i", {
  style: {
    backgroundColor: 'transparent',
    color: '#737373'
  }
}, new Date(datetime).toLocaleTimeString())));

const SubsequentMessage = ({
  message,
  datetime
}) => {
  return h("div", {
    style: {
      display: "flex",
      alignItems: "center",
      marginLeft: 45
    }
  }, h(MessageView, {
    message: message,
    datetime: datetime,
    backgroundColor: "#FFECB3"
  }));
};

const style = {
  height: 30,
  width: 40,
  padding: 3,
  borderRadius: 30,
  backgroundColor: 'darkSmoke',
  borderStyle: 'solid',
  borderWidth: 2,
  display: 'flex',
  justifyContent: 'center',
  alignItems: 'center',
  color: '#009688',
  borderColor: '#80cbc4'
};

const MessageAvatar = ({
  letter = 'U'
}) => h("div", {
  style: style
}, h("div", null, letter.toUpperCase()));

const FirstMessage = ({
  message,
  datetime,
  letter,
  local
}) => {
  return h("div", {
    style: {
      display: "flex",
      alignItems: "center"
    }
  }, !local && h(MessageAvatar, {
    letter: letter
  }), h(MessageView, {
    message: message,
    datetime: datetime,
    backgroundColor: "#FFECB3"
  }));
};

/* eslint-disable react/jsx-props-no-spreading */

const MessageObjectMappter = props => {
  const {
    order,
    dateSpace
  } = props;
  return h("div", null, dateSpace && h(DateLinebreak, props), h(MessageAligner, props, order === 'F' ? h(FirstMessage, props) : h(SubsequentMessage, props)));
};

const useMessageSorter = messages => {
  const [sortedMessages, setSortedMessages] = v(messages);
  p(() => {
    setSortedMessages(messages.sort((a, b) => a.datetime - b.datetime));
  }, [messages]);
  return {
    sortedMessages
  };
};

const useMessagesMapper = messages => {
  const [mappedMessages, setMappedMessages] = v(messages);

  const mapMessages = () => {
    const localSide = "right";
    const remoteSide = "left";

    if (messages.length === 0) {
      return [];
    }

    let email = messages[0].from;
    let lastDatetime = messages[0].datetime;
    return messages.map((m, i) => {
      if (i === 0 && m.local) {
        return { ...m,
          side: localSide,
          order: "F",
          dateSpace: true
        };
      }

      if (i === 0 && !m.local) {
        const letter = m.from[0] !== undefined ? m.from[0] : "";
        return { ...m,
          side: remoteSide,
          order: "F",
          dateSpace: true,
          letter
        };
      }

      if (i > 0 && email === m.from && m.local) {
        if (new Date(lastDatetime).getDate() !== new Date(m.datetime).getDate()) {
          email = m.from;
          lastDatetime = m.datetime;
          return { ...m,
            side: localSide,
            order: "S",
            dateSpace: true
          };
        }

        email = m.from;
        lastDatetime = m.datetime;
        return { ...m,
          side: localSide,
          order: "S",
          dateSpace: false
        };
      }

      if (i > 0 && email !== m.from && m.local) {
        if (new Date(lastDatetime).getDate() === new Date(m.datetime).getDate()) {
          email = m.from;
          lastDatetime = m.datetime;
          return { ...m,
            side: localSide,
            order: "F",
            dateSpace: false
          };
        }

        email = m.from;
        lastDatetime = m.datetime;
        return { ...m,
          side: localSide,
          order: "F",
          dateSpace: true
        };
      }

      if (i > 0 && email === m.from && !m.local) {
        if (new Date(lastDatetime).getDate() !== new Date(m.datetime).getDate()) {
          const letter = m.from[0] !== undefined ? m.from[0] : "";
          lastDatetime = m.datetime;
          return { ...m,
            side: remoteSide,
            order: "S",
            dateSpace: true,
            letter
          };
        }

        const letter = m.from[0] !== undefined ? m.from[0] : "";
        lastDatetime = m.datetime;
        return { ...m,
          side: remoteSide,
          order: "S",
          dateSpace: false,
          letter
        };
      }

      if (i > 0 && email !== m.from && !m.local) {
        if (new Date(lastDatetime).getDate() === new Date(m.datetime).getDate()) {
          const letter = m.from[0] !== undefined ? m.from[0] : "";
          email = m.from;
          lastDatetime = m.datetime;
          return { ...m,
            side: remoteSide,
            order: "F",
            dateSpace: false,
            letter
          };
        }

        const letter = m.from[0] !== undefined ? m.from[0] : "";
        email = m.from;
        lastDatetime = m.datetime;
        return { ...m,
          side: remoteSide,
          order: "F",
          dateSpace: true,
          letter
        };
      }

      return null;
    });
  };

  p(() => {
    setMappedMessages(mapMessages());
  }, [messages]);
  return {
    mappedMessages
  };
};

const MessageCollectionView = ({
  messages
}) => {
  if (messages.length > 0) {
    return messages.map((message, i) => h(MessageObjectMappter, _extends({}, message, {
      key: i
    })));
  }

  return null;
};

/* eslint-disable react/no-deprecated */

const MessageViewScroller = ({
  children
}) => {
  return h("div", {
    style: {
      transform: 'rotate(180deg)',
      height: '85%',
      backgroundColor: '#eeeeee',
      overflow: 'auto',
      width: '100%'
    }
  }, h("div", {
    style: {
      transform: 'rotate(180deg)'
    }
  }, children));
};

const MessageEditorDisplayer = ({
  onMessageChange,
  message,
  sendMessage,
  id = 0,
  disabled
}) => h("div", {
  style: {
    display: 'flex'
  }
}, h("input", {
  style: {
    flex: 1
  },
  "data-testid": `message${id}`,
  onInput: onMessageChange,
  value: message,
  name: "message",
  type: "text",
  placeholder: "Enter message text"
}), h("div", {
  style: {
    display: 'flex'
  }
}, h("button", {
  "data-testid": `sendMessage${id}`,
  disabled: message === '' || disabled,
  style: {
    marginLeft: 2,
    width: '100%'
  },
  onClick: sendMessage
}, h("svg", {
  xmlns: "http://www.w3.org/2000/svg",
  width: "24",
  height: "24",
  viewBox: "0 0 24 24"
}, h("path", {
  d: "M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"
}), h("path", {
  d: "M0 0h24v24H0z",
  fill: "none"
})))));

/* eslint-disable no-shadow */

const MessagesDisplayer = ({
  messages,
  socket,
  id,
  messageText,
  sendMessage,
  handleMessageChange
}) => {
  const {
    sortedMessages
  } = useMessageSorter(messages);
  const {
    mappedMessages
  } = useMessagesMapper(sortedMessages);
  return [h(MessageViewScroller, null, h(MessageCollectionView, {
    messages: mappedMessages
  })), h(MessageEditorDisplayer, {
    disabled: socket === null,
    id: id,
    message: messageText,
    sendMessage: sendMessage,
    onMessageChange: handleMessageChange
  })];
};

function Settings({
  height = 24,
  width = 24,
  fill = 'none',
  color = 'black'
}) {
  return h("svg", {
    height: height,
    viewBox: "0 0 24 24",
    width: width
  }, h("path", {
    d: "M0 0h24v24H0V0z",
    fill: fill
  }), h("path", {
    color: color,
    d: "M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"
  }));
}

function Chat({
  contact,
  onSetting
}) {
  const {
    messages
  } = contact;
  return h("div", {
    className: "chat-state-view",
    style: {
      margin: 8,
      height: '100%'
    },
    "data-testid": "chat"
  }, h("div", {
    style: {
      display: 'flex',
      justifyContent: 'flex-end',
      width: '100%'
    }
  }, h("div", {
    style: {
      paddingRight: 8,
      paddingTop: 8
    },
    onClick: onSetting,
    "data-testid": "setting"
  }, h(Settings, null))), h("hr", {
    style: {
      width: '99%'
    }
  }), h(MessagesDisplayer, {
    messages: messages
  }));
}

export default Chat;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2hhdC0xZTUwNDc1OS5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vY2xpZW50L2NoYXQvbWVzc2FnZXMtZGlzcGxheWVyL2xpYi9tZXNzYWdlLW9iamVjdC1tYXBwZXIvZGF0ZS1saW5lYnJlYWsuanMiLCIuLi8uLi8uLi9jbGllbnQvY2hhdC9tZXNzYWdlcy1kaXNwbGF5ZXIvbGliL21lc3NhZ2Utb2JqZWN0LW1hcHBlci9tZXNzYWdlLWFsaWduZXIuanMiLCIuLi8uLi8uLi9jbGllbnQvY2hhdC9tZXNzYWdlcy1kaXNwbGF5ZXIvbGliL21lc3NhZ2Utb2JqZWN0LW1hcHBlci9tZXNzYWdlLXZpZXcuanMiLCIuLi8uLi8uLi9jbGllbnQvY2hhdC9tZXNzYWdlcy1kaXNwbGF5ZXIvbGliL21lc3NhZ2Utb2JqZWN0LW1hcHBlci9zdWJzZXF1ZW50LW1lc3NhZ2UuanMiLCIuLi8uLi8uLi9jbGllbnQvY2hhdC9tZXNzYWdlcy1kaXNwbGF5ZXIvbGliL21lc3NhZ2Utb2JqZWN0LW1hcHBlci9tZXNzYWdlLWF2YXRhci5qcyIsIi4uLy4uLy4uL2NsaWVudC9jaGF0L21lc3NhZ2VzLWRpc3BsYXllci9saWIvbWVzc2FnZS1vYmplY3QtbWFwcGVyL2ZpcnN0LW1lc3NhZ2UuanMiLCIuLi8uLi8uLi9jbGllbnQvY2hhdC9tZXNzYWdlcy1kaXNwbGF5ZXIvbGliL21lc3NhZ2Utb2JqZWN0LW1hcHBlci9tZXNzYWdlLW9iamVjdC1tYXBwZXIuanMiLCIuLi8uLi8uLi9jbGllbnQvY2hhdC9tZXNzYWdlcy1kaXNwbGF5ZXIvbGliL3VzZU1lc3NhZ2VTb3J0ZXIuanMiLCIuLi8uLi8uLi9jbGllbnQvY2hhdC9tZXNzYWdlcy1kaXNwbGF5ZXIvbGliL3VzZU1lc3NhZ2VNYXBwZXIuanMiLCIuLi8uLi8uLi9jbGllbnQvY2hhdC9tZXNzYWdlcy1kaXNwbGF5ZXIvbGliL21lc3NhZ2UtY29sbGVjdGlvbi12aWV3LmpzIiwiLi4vLi4vLi4vY2xpZW50L2NoYXQvbWVzc2FnZXMtZGlzcGxheWVyL2xpYi9tZXNzYWdlcy12aWV3LXNjcm9sbGVyLmpzIiwiLi4vLi4vLi4vY2xpZW50L2NoYXQvbWVzc2FnZS1lZGl0b3ItZGlzcGxheWVyL2luZGV4LmpzIiwiLi4vLi4vLi4vY2xpZW50L2NoYXQvbWVzc2FnZXMtZGlzcGxheWVyL2xpYi9tZXNzYWdlcy1kaXNwbGF5ZXIuanMiLCIuLi8uLi8uLi9jbGllbnQvbGF5b3V0L2ljb25zL1NldHTEsW5ncy5qcyIsIi4uLy4uLy4uL2NsaWVudC9jaGF0L0NoYXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCc7XHJcblxyXG5jb25zdCBEYXRlTGluZWJyZWFrID0gKHsgZGF0ZXRpbWUgfSkgPT4ge1xyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JyB9fT5cclxuICAgICAgPGRpdiBzdHlsZT17eyBmbGV4OiAnMScgfX0+XHJcbiAgICAgICAgPGhyIC8+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiAxMCwgY29sb3I6ICcjNzM3MzczJyB9fT5cclxuICAgICAgICB7bmV3IERhdGUoZGF0ZXRpbWUpLnRvTG9jYWxlRGF0ZVN0cmluZygpfVxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiBzdHlsZT17eyBmbGV4OiAxIH19PlxyXG4gICAgICAgIDxociAvPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEYXRlTGluZWJyZWFrO1xyXG4iLCJpbXBvcnQge2h9IGZyb20gJ3ByZWFjdCdcclxuXHJcbmNvbnN0IE1lc3NhZ2VBbGlnbmVyID0gKHsgY2hpbGRyZW4sIHNpZGUsIHN0eWxlIH0pID0+IHtcclxuICAgIGNvbnN0IGFsaWdubWVudCA9IHNpZGUgPT09IFwibGVmdFwiID8gXCJmbGV4LXN0YXJ0XCIgOiBcImZsZXgtZW5kXCJcclxuICAgIHJldHVybiA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiLCBqdXN0aWZ5Q29udGVudDogYWxpZ25tZW50LCAuLi5zdHlsZSB9fT57Y2hpbGRyZW59PC9kaXY+XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBNZXNzYWdlQWxpZ25lciIsImltcG9ydCB7IGggfSBmcm9tICdwcmVhY3QnO1xyXG5cclxuY29uc3QgTWVzc2FnZVZpZXcgPSAoeyBtZXNzYWdlLCBkYXRldGltZSB9KSA9PiAoXHJcbiAgPGRpdlxyXG4gICAgc3R5bGU9e3tcclxuICAgICAgYm9yZGVyUmFkaXVzOiAxNSxcclxuICAgICAgLy9ib3JkZXJDb2xvcjogJyM5RTlFOUUnLFxyXG4gICAgICAvL2JvcmRlclN0eWxlOiAnc29saWQnLFxyXG4gICAgICAvL2JvcmRlcldpZHRoOiAyLFxyXG4gICAgICBtYXhXaWR0aDogJzEwMCUnLFxyXG4gICAgICB3b3JkV3JhcDogJ2JyZWFrLXdvcmQnLFxyXG4gICAgICB3b3JkQnJlYWs6ICdicmVhay1hbGwnLFxyXG4gICAgICBtaW5XaWR0aDogJzMwJScsXHJcbiAgICB9fVxyXG4gID5cclxuICAgIDxkaXZcclxuICAgICAgc3R5bGU9e3tcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICBwYWRkaW5nOiA1LFxyXG4gICAgICAgIG1hcmdpbjogMixcclxuICAgICAgICBib3JkZXJSYWRpdXM6IDUwLFxyXG4gICAgICB9fVxyXG4gICAgPlxyXG4gICAgICB7bWVzc2FnZX1cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdlxyXG4gICAgICBzdHlsZT17e1xyXG4gICAgICAgIGZvbnRTaXplOiAxMCxcclxuICAgICAgICBwYWRkaW5nVG9wOiAyLFxyXG4gICAgICAgIHRleHRBbGlnbjogJ2VuZCcsXHJcbiAgICAgIH19XHJcbiAgICA+XHJcbiAgICAgIDxpIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50JywgY29sb3I6ICcjNzM3MzczJyB9fT5cclxuICAgICAgICB7bmV3IERhdGUoZGF0ZXRpbWUpLnRvTG9jYWxlVGltZVN0cmluZygpfVxyXG4gICAgICA8L2k+XHJcbiAgICA8L2Rpdj5cclxuICA8L2Rpdj5cclxuKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1lc3NhZ2VWaWV3O1xyXG4iLCJpbXBvcnQge2h9IGZyb20gJ3ByZWFjdCdcclxuaW1wb3J0IE1lc3NhZ2UgZnJvbSAnLi9tZXNzYWdlLXZpZXcnXHJcblxyXG5jb25zdCBTdWJzZXF1ZW50TWVzc2FnZSA9ICh7IG1lc3NhZ2UsIGRhdGV0aW1lIH0pID0+IHtcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuXHJcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiLCBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLCBtYXJnaW5MZWZ0OjQ1IH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8TWVzc2FnZSBtZXNzYWdlPXttZXNzYWdlfSBkYXRldGltZT17ZGF0ZXRpbWV9IGJhY2tncm91bmRDb2xvcj1cIiNGRkVDQjNcIiAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU3Vic2VxdWVudE1lc3NhZ2UiLCJpbXBvcnQgeyBoIH0gZnJvbSAncHJlYWN0JztcclxuXHJcbmNvbnN0IHN0eWxlID0ge1xyXG4gIGhlaWdodDogMzAsXHJcbiAgd2lkdGg6IDQwLFxyXG4gIHBhZGRpbmc6IDMsXHJcbiAgYm9yZGVyUmFkaXVzOiAzMCxcclxuICBiYWNrZ3JvdW5kQ29sb3I6ICdkYXJrU21va2UnLFxyXG4gIGJvcmRlclN0eWxlOiAnc29saWQnLFxyXG4gIGJvcmRlcldpZHRoOiAyLFxyXG4gIGRpc3BsYXk6ICdmbGV4JyxcclxuICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXHJcbiAgYWxpZ25JdGVtczogJ2NlbnRlcicsXHJcbiAgY29sb3I6ICcjMDA5Njg4JyxcclxuICBib3JkZXJDb2xvcjogJyM4MGNiYzQnLFxyXG59O1xyXG5cclxuXHJcbmNvbnN0IE1lc3NhZ2VBdmF0YXIgPSAoeyBsZXR0ZXIgPSAnVScgfSkgPT4gKDxkaXYgc3R5bGU9e3N0eWxlfT48ZGl2PntsZXR0ZXIudG9VcHBlckNhc2UoKX08L2Rpdj48L2Rpdj4pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgTWVzc2FnZUF2YXRhcjtcclxuIiwiaW1wb3J0IHtofSBmcm9tICdwcmVhY3QnXHJcbmltcG9ydCBNZXNzYWdlIGZyb20gJy4vbWVzc2FnZS12aWV3J1xyXG5pbXBvcnQgTWVzc2FnZUF2YXRhciBmcm9tICcuL21lc3NhZ2UtYXZhdGFyJ1xyXG5cclxuY29uc3QgRmlyc3RNZXNzYWdlID0gKHsgbWVzc2FnZSwgZGF0ZXRpbWUsbGV0dGVyLGxvY2FsIH0pID0+IHtcclxuXHJcbiAgICByZXR1cm4gKFxyXG5cclxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiLCBhbGlnbkl0ZW1zOiBcImNlbnRlclwiIH19PlxyXG4gICAgICAgICAgICB7IWxvY2FsICYmPE1lc3NhZ2VBdmF0YXIgbGV0dGVyPXtsZXR0ZXJ9IC8+fVxyXG4gICAgICAgICAgICA8TWVzc2FnZSBtZXNzYWdlPXttZXNzYWdlfSBkYXRldGltZT17ZGF0ZXRpbWV9IGJhY2tncm91bmRDb2xvcj1cIiNGRkVDQjNcIiAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgIClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRmlyc3RNZXNzYWdlIiwiLyogZXNsaW50LWRpc2FibGUgcmVhY3QvanN4LXByb3BzLW5vLXNwcmVhZGluZyAqL1xyXG5pbXBvcnQgeyBoIH0gZnJvbSAncHJlYWN0JztcclxuaW1wb3J0IE1lc3NhZ2VBbGlnbmVyIGZyb20gJy4vbWVzc2FnZS1hbGlnbmVyJztcclxuaW1wb3J0IEZpcnN0TWVzc2FnZSBmcm9tICcuL2ZpcnN0LW1lc3NhZ2UnO1xyXG5pbXBvcnQgU3Vic2VxdWVudE1lc3NhZ2UgZnJvbSAnLi9zdWJzZXF1ZW50LW1lc3NhZ2UnO1xyXG5pbXBvcnQgRGF0ZUxpbmVicmVhayBmcm9tICcuL2RhdGUtbGluZWJyZWFrJztcclxuXHJcbmNvbnN0IE1lc3NhZ2VPYmplY3RNYXBwdGVyID0gKHByb3BzKSA9PiB7XHJcbiAgICBjb25zdCB7IG9yZGVyLCBkYXRlU3BhY2UgfSA9IHByb3BzO1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICB7ZGF0ZVNwYWNlICYmIDxEYXRlTGluZWJyZWFrIHsuLi5wcm9wc30gLz59XHJcbiAgICAgICAgICAgIDxNZXNzYWdlQWxpZ25lciB7Li4ucHJvcHN9PlxyXG4gICAgICAgICAgICAgICAge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBvcmRlciA9PT0gJ0YnID8gPEZpcnN0TWVzc2FnZSB7Li4ucHJvcHN9IC8+IDogPFN1YnNlcXVlbnRNZXNzYWdlIHsuLi5wcm9wc30gLz5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIDwvTWVzc2FnZUFsaWduZXI+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgTWVzc2FnZU9iamVjdE1hcHB0ZXI7XHJcbiIsImltcG9ydCB7aH0gZnJvbSAncHJlYWN0J1xyXG5pbXBvcnQge3VzZUVmZmVjdCx1c2VTdGF0ZX0gZnJvbSAncHJlYWN0L2hvb2tzJ1xyXG5cclxuY29uc3QgdXNlTWVzc2FnZVNvcnRlciA9KG1lc3NhZ2VzKT0+e1xyXG5jb25zdCBbc29ydGVkTWVzc2FnZXMsc2V0U29ydGVkTWVzc2FnZXNdPXVzZVN0YXRlKG1lc3NhZ2VzKVxyXG51c2VFZmZlY3QoKCk9PntcclxuXHJcbiAgICBzZXRTb3J0ZWRNZXNzYWdlcyhtZXNzYWdlcy5zb3J0KChhLCBiKT0+IGEuZGF0ZXRpbWUgLSBiLmRhdGV0aW1lKSlcclxufSxbbWVzc2FnZXNdKVxyXG5cclxucmV0dXJue3NvcnRlZE1lc3NhZ2VzfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB1c2VNZXNzYWdlU29ydGVyXHJcblxyXG4iLCJpbXBvcnQge2h9IGZyb20gJ3ByZWFjdCdcclxuaW1wb3J0IHt1c2VTdGF0ZSx1c2VFZmZlY3R9IGZyb20gJ3ByZWFjdC9ob29rcydcclxuXHJcbmNvbnN0IHVzZU1lc3NhZ2VzTWFwcGVyID0obWVzc2FnZXMpPT57XHJcbiAgY29uc3QgW21hcHBlZE1lc3NhZ2VzLHNldE1hcHBlZE1lc3NhZ2VzXT11c2VTdGF0ZShtZXNzYWdlcylcclxuICBjb25zdCBtYXBNZXNzYWdlcyA9KCk9PntcclxuICAgIGNvbnN0IGxvY2FsU2lkZSA9XCJyaWdodFwiXHJcbiAgICBjb25zdCByZW1vdGVTaWRlPVwibGVmdFwiXHJcbiAgICBpZihtZXNzYWdlcy5sZW5ndGg9PT0wKXtcclxuICAgICAgcmV0dXJuIFtdXHJcbiAgICB9XHJcbiAgICAgIGxldCBlbWFpbCA9IG1lc3NhZ2VzWzBdLmZyb21cclxuICAgICAgbGV0IGxhc3REYXRldGltZSA9IG1lc3NhZ2VzWzBdLmRhdGV0aW1lXHJcbiAgICByZXR1cm4gbWVzc2FnZXMubWFwKChtLCBpKSA9PiB7XHJcbiAgXHJcbiAgICAgIGlmIChpID09PSAwICYmIG0ubG9jYWwpIHtcclxuICAgICAgXHJcbiAgICAgICAgICByZXR1cm4geyAuLi5tLCBzaWRlOiBsb2NhbFNpZGUsIG9yZGVyOiBcIkZcIiwgZGF0ZVNwYWNlOiB0cnVlIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoaSA9PT0gMCAmJiAhbS5sb2NhbCkge1xyXG4gICAgIFxyXG4gICAgICAgIGNvbnN0IGxldHRlciA9IG0uZnJvbVswXSAhPT11bmRlZmluZWQgPyBtLmZyb21bMF06XCJcIlxyXG4gICAgICAgICAgcmV0dXJuIHsgLi4ubSwgc2lkZTogcmVtb3RlU2lkZSwgb3JkZXI6IFwiRlwiLCBkYXRlU3BhY2U6IHRydWUsbGV0dGVyIH1cclxuICAgICAgfVxyXG4gICBcclxuICAgICAgaWYgKGkgPiAwICYmIGVtYWlsID09PSBtLmZyb20gJiYgbS5sb2NhbCkge1xyXG4gICAgICAgICAgaWYgKG5ldyBEYXRlKGxhc3REYXRldGltZSkuZ2V0RGF0ZSgpICE9PSBuZXcgRGF0ZShtLmRhdGV0aW1lKS5nZXREYXRlKCkpIHtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIGVtYWlsID0gbS5mcm9tXHJcbiAgICAgICAgICAgICAgbGFzdERhdGV0aW1lID0gbS5kYXRldGltZVxyXG4gICAgICAgICAgICAgIHJldHVybiB7IC4uLm0sIHNpZGU6IGxvY2FsU2lkZSwgb3JkZXI6IFwiU1wiLCBkYXRlU3BhY2U6IHRydWUgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAgICAgZW1haWwgPSBtLmZyb21cclxuICAgICAgICAgICAgICBsYXN0RGF0ZXRpbWUgPSBtLmRhdGV0aW1lXHJcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4ubSwgc2lkZTogbG9jYWxTaWRlLCBvcmRlcjogXCJTXCIsIGRhdGVTcGFjZTogZmFsc2UgfVxyXG4gICAgICAgICAgXHJcbiAgICAgIH1cclxuICBcclxuICAgICAgaWYgKGkgPiAwICYmIGVtYWlsICE9PSBtLmZyb20gJiYgbS5sb2NhbCkge1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgaWYgKG5ldyBEYXRlKGxhc3REYXRldGltZSkuZ2V0RGF0ZSgpID09PSBuZXcgRGF0ZShtLmRhdGV0aW1lKS5nZXREYXRlKCkpIHtcclxuICAgICAgICAgXHJcbiAgICAgICAgICAgICAgZW1haWwgPSBtLmZyb21cclxuICAgICAgICAgICAgICBsYXN0RGF0ZXRpbWUgPSBtLmRhdGV0aW1lXHJcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4ubSwgc2lkZTogbG9jYWxTaWRlLCBvcmRlcjogXCJGXCIsIGRhdGVTcGFjZTogZmFsc2UgfVxyXG4gICAgICAgICAgfSBcclxuICAgICAgICAgICAgICBlbWFpbCA9IG0uZnJvbVxyXG4gICAgICAgICAgICAgIGxhc3REYXRldGltZSA9IG0uZGF0ZXRpbWVcclxuICAgICAgICAgICAgICByZXR1cm4geyAuLi5tLCBzaWRlOiBsb2NhbFNpZGUsIG9yZGVyOiBcIkZcIiwgZGF0ZVNwYWNlOiB0cnVlIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKGkgPiAwICYmIGVtYWlsID09PSBtLmZyb20gJiYgIW0ubG9jYWwpIHtcclxuICAgICAgICBcclxuICAgICAgICAgIGlmIChuZXcgRGF0ZShsYXN0RGF0ZXRpbWUpLmdldERhdGUoKSAhPT0gbmV3IERhdGUobS5kYXRldGltZSkuZ2V0RGF0ZSgpKSB7XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgICAgICBjb25zdCBsZXR0ZXIgPSBtLmZyb21bMF0gIT09dW5kZWZpbmVkID8gbS5mcm9tWzBdOlwiXCJcclxuICAgICAgICAgICAgICBsYXN0RGF0ZXRpbWUgPSBtLmRhdGV0aW1lXHJcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4ubSwgc2lkZTogcmVtb3RlU2lkZSwgb3JkZXI6IFwiU1wiLCBkYXRlU3BhY2U6IHRydWUsbGV0dGVyIH1cclxuICAgICAgICAgIH0gXHJcbiAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc3QgbGV0dGVyID0gbS5mcm9tWzBdICE9PXVuZGVmaW5lZCA/IG0uZnJvbVswXTpcIlwiXHJcbiAgICAgICAgICAgICAgbGFzdERhdGV0aW1lID0gbS5kYXRldGltZVxyXG4gICAgICAgICAgICAgIHJldHVybiB7IC4uLm0sIHNpZGU6IHJlbW90ZVNpZGUsIG9yZGVyOiBcIlNcIiwgZGF0ZVNwYWNlOiBmYWxzZSxsZXR0ZXIgfVxyXG4gICAgICAgICAgXHJcbiAgICAgIH1cclxuICAgICAgaWYgKGkgPiAwICYmIGVtYWlsICE9PSBtLmZyb20gJiYgIW0ubG9jYWwpIHtcclxuICAgICAgICBcclxuICAgICAgICAgIGlmIChuZXcgRGF0ZShsYXN0RGF0ZXRpbWUpLmdldERhdGUoKSA9PT0gbmV3IERhdGUobS5kYXRldGltZSkuZ2V0RGF0ZSgpKSB7XHJcbiAgICAgICAgIFxyXG4gICAgICAgICAgICAgY29uc3QgbGV0dGVyID0gbS5mcm9tWzBdICE9PXVuZGVmaW5lZCA/IG0uZnJvbVswXTpcIlwiXHJcbiAgICAgICAgICAgICAgZW1haWwgPSBtLmZyb21cclxuICAgICAgICAgICAgICBsYXN0RGF0ZXRpbWUgPSBtLmRhdGV0aW1lXHJcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4ubSwgc2lkZTogcmVtb3RlU2lkZSwgb3JkZXI6IFwiRlwiLCBkYXRlU3BhY2U6IGZhbHNlLGxldHRlciB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAgICBjb25zdCBsZXR0ZXIgPSBtLmZyb21bMF0gIT09dW5kZWZpbmVkID8gbS5mcm9tWzBdOlwiXCJcclxuICAgICAgICAgICAgICBlbWFpbCA9IG0uZnJvbVxyXG4gICAgICAgICAgICAgIGxhc3REYXRldGltZSA9IG0uZGF0ZXRpbWVcclxuICAgICAgICAgICAgICByZXR1cm4geyAuLi5tLCBzaWRlOiByZW1vdGVTaWRlLCBvcmRlcjogXCJGXCIsIGRhdGVTcGFjZTogdHJ1ZSxsZXR0ZXIgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgfSlcclxuICB9XHJcblxyXG4gIHVzZUVmZmVjdCgoKT0+e1xyXG4gICAgc2V0TWFwcGVkTWVzc2FnZXMobWFwTWVzc2FnZXMoKSlcclxuICB9LFttZXNzYWdlc10pXHJcbnJldHVybiB7bWFwcGVkTWVzc2FnZXN9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHVzZU1lc3NhZ2VzTWFwcGVyXHJcbiIsIi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L25vLWFycmF5LWluZGV4LWtleSAqL1xyXG4vKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9qc3gtcHJvcHMtbm8tc3ByZWFkaW5nICovXHJcbmltcG9ydCB7aH0gZnJvbSAncHJlYWN0J1xyXG5pbXBvcnQgTWVzc2FnZU9iamVjdE1hcHBlciBmcm9tICcuL21lc3NhZ2Utb2JqZWN0LW1hcHBlcidcclxuXHJcbmNvbnN0IE1lc3NhZ2VDb2xsZWN0aW9uVmlldyA9ICh7IG1lc3NhZ2VzIH0pID0+e1xyXG5cclxuICAgIGlmKG1lc3NhZ2VzLmxlbmd0aD4wKXtcclxuICAgICAgIFxyXG4gICAgICAgIHJldHVybiAgbWVzc2FnZXMubWFwKChtZXNzYWdlLCBpKSA9PiA8TWVzc2FnZU9iamVjdE1hcHBlciB7Li4ubWVzc2FnZX0ga2V5PXtpfSAvPilcclxuICAgIH1cclxuICAgICByZXR1cm4gbnVsbFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNZXNzYWdlQ29sbGVjdGlvblZpZXciLCIvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9uby1kZXByZWNhdGVkICovXHJcbmltcG9ydCB7IGggfSBmcm9tICdwcmVhY3QnO1xyXG5cclxuY29uc3QgTWVzc2FnZVZpZXdTY3JvbGxlciA9ICh7IGNoaWxkcmVuIH0pID0+IHtcclxuICByZXR1cm4gKFxyXG4gICAgPGRpdlxyXG4gICAgICBzdHlsZT17e1xyXG4gICAgICAgIHRyYW5zZm9ybTogJ3JvdGF0ZSgxODBkZWcpJyxcclxuICAgICAgICBoZWlnaHQ6ICc4NSUnLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNlZWVlZWUnLFxyXG4gICAgICAgIG92ZXJmbG93OiAnYXV0bycsXHJcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcclxuICAgICAgfX1cclxuICAgID5cclxuICAgICAgPGRpdiBzdHlsZT17eyB0cmFuc2Zvcm06ICdyb3RhdGUoMTgwZGVnKScgfX0+e2NoaWxkcmVufTwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1lc3NhZ2VWaWV3U2Nyb2xsZXI7XHJcbiIsIlxyXG5pbXBvcnQgeyBoIH0gZnJvbSAncHJlYWN0JztcclxuXHJcbmNvbnN0IE1lc3NhZ2VFZGl0b3JEaXNwbGF5ZXIgPSAoe1xyXG4gIG9uTWVzc2FnZUNoYW5nZSwgbWVzc2FnZSwgc2VuZE1lc3NhZ2UsIGlkID0gMCwgZGlzYWJsZWQsXHJcbn0pID0+IChcclxuICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JyB9fT5cclxuICAgIDxpbnB1dCBzdHlsZT17eyBmbGV4OiAxIH19IGRhdGEtdGVzdGlkPXtgbWVzc2FnZSR7aWR9YH0gb25JbnB1dD17b25NZXNzYWdlQ2hhbmdlfSB2YWx1ZT17bWVzc2FnZX0gbmFtZT1cIm1lc3NhZ2VcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiRW50ZXIgbWVzc2FnZSB0ZXh0XCIgLz5cclxuICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnIH19PlxyXG4gICAgICAgICAgPGJ1dHRvbiBkYXRhLXRlc3RpZD17YHNlbmRNZXNzYWdlJHtpZH1gfSBkaXNhYmxlZD17bWVzc2FnZSA9PT0gJycgfHwgZGlzYWJsZWR9IHN0eWxlPXt7IG1hcmdpbkxlZnQ6IDIsIHdpZHRoOiAnMTAwJScgfX0gb25DbGljaz17c2VuZE1lc3NhZ2V9PlxyXG5cclxuICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTIuMDEgMjFMMjMgMTIgMi4wMSAzIDIgMTBsMTUgMi0xNSAyelwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0wIDBoMjR2MjRIMHpcIiBmaWxsPVwibm9uZVwiIC8+XHJcbiAgICAgICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcbik7XHJcbmV4cG9ydCBkZWZhdWx0IE1lc3NhZ2VFZGl0b3JEaXNwbGF5ZXI7XHJcbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXNoYWRvdyAqL1xyXG5pbXBvcnQgeyBoIH0gZnJvbSBcInByZWFjdFwiO1xyXG5pbXBvcnQgdXNlTWVzc2FnZVNvcnRlciBmcm9tIFwiLi91c2VNZXNzYWdlU29ydGVyXCI7XHJcbmltcG9ydCB1c2VNZXNzYWdlTWFwcGVyIGZyb20gXCIuL3VzZU1lc3NhZ2VNYXBwZXJcIjtcclxuaW1wb3J0IE1lc3NhZ2VDb2xsZWN0aW9uVmlldyBmcm9tIFwiLi9tZXNzYWdlLWNvbGxlY3Rpb24tdmlld1wiO1xyXG5pbXBvcnQgTWVzc2FnZVZpZXdTY3JvbGxlciBmcm9tIFwiLi9tZXNzYWdlcy12aWV3LXNjcm9sbGVyXCI7XHJcbmltcG9ydCBNZXNzYWdlRWRpdG9yRGlzcGxheWVyIGZyb20gXCIuLi8uLi9tZXNzYWdlLWVkaXRvci1kaXNwbGF5ZXJcIjtcclxuXHJcbmNvbnN0IE1lc3NhZ2VzRGlzcGxheWVyID0gKHtcclxuICBtZXNzYWdlcyxcclxuICBzb2NrZXQsXHJcbiAgaWQsXHJcbiAgbWVzc2FnZVRleHQsXHJcbiAgc2VuZE1lc3NhZ2UsXHJcbiAgaGFuZGxlTWVzc2FnZUNoYW5nZVxyXG59KSA9PiB7XHJcbiAgY29uc3QgeyBzb3J0ZWRNZXNzYWdlcyB9ID0gdXNlTWVzc2FnZVNvcnRlcihtZXNzYWdlcyk7XHJcbiAgY29uc3QgeyBtYXBwZWRNZXNzYWdlcyB9ID0gdXNlTWVzc2FnZU1hcHBlcihzb3J0ZWRNZXNzYWdlcyk7XHJcbiAgcmV0dXJuIFtcclxuXHJcbiAgICAgIDxNZXNzYWdlVmlld1Njcm9sbGVyPlxyXG4gICAgICAgIDxNZXNzYWdlQ29sbGVjdGlvblZpZXcgbWVzc2FnZXM9e21hcHBlZE1lc3NhZ2VzfSAvPlxyXG4gICAgICA8L01lc3NhZ2VWaWV3U2Nyb2xsZXI+LFxyXG4gICAgICA8TWVzc2FnZUVkaXRvckRpc3BsYXllclxyXG4gICAgICAgIGRpc2FibGVkPXtzb2NrZXQgPT09IG51bGx9XHJcbiAgICAgICAgaWQ9e2lkfVxyXG4gICAgICAgIG1lc3NhZ2U9e21lc3NhZ2VUZXh0fVxyXG4gICAgICAgIHNlbmRNZXNzYWdlPXtzZW5kTWVzc2FnZX1cclxuICAgICAgICBvbk1lc3NhZ2VDaGFuZ2U9e2hhbmRsZU1lc3NhZ2VDaGFuZ2V9XHJcbiAgICAgIC8+XHJcblxyXG4gIF07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNZXNzYWdlc0Rpc3BsYXllcjtcclxuIiwiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gU2V0dGluZ3Moe1xyXG4gIGhlaWdodCA9IDI0LFxyXG4gIHdpZHRoID0gMjQsXHJcbiAgZmlsbCA9ICdub25lJyxcclxuICBjb2xvciA9ICdibGFjaycsXHJcbn0pIHtcclxuICByZXR1cm4gKFxyXG4gICAgPHN2ZyBoZWlnaHQ9e2hlaWdodH0gdmlld0JveD0nMCAwIDI0IDI0JyB3aWR0aD17d2lkdGh9PlxyXG4gICAgICA8cGF0aCBkPSdNMCAwaDI0djI0SDBWMHonIGZpbGw9e2ZpbGx9IC8+XHJcbiAgICAgIDxwYXRoXHJcbiAgICAgICAgY29sb3I9e2NvbG9yfVxyXG4gICAgICAgIGQ9J00xOS40MyAxMi45OGMuMDQtLjMyLjA3LS42NC4wNy0uOThzLS4wMy0uNjYtLjA3LS45OGwyLjExLTEuNjVjLjE5LS4xNS4yNC0uNDIuMTItLjY0bC0yLTMuNDZjLS4xMi0uMjItLjM5LS4zLS42MS0uMjJsLTIuNDkgMWMtLjUyLS40LTEuMDgtLjczLTEuNjktLjk4bC0uMzgtMi42NUMxNC40NiAyLjE4IDE0LjI1IDIgMTQgMmgtNGMtLjI1IDAtLjQ2LjE4LS40OS40MmwtLjM4IDIuNjVjLS42MS4yNS0xLjE3LjU5LTEuNjkuOThsLTIuNDktMWMtLjIzLS4wOS0uNDkgMC0uNjEuMjJsLTIgMy40NmMtLjEzLjIyLS4wNy40OS4xMi42NGwyLjExIDEuNjVjLS4wNC4zMi0uMDcuNjUtLjA3Ljk4cy4wMy42Ni4wNy45OGwtMi4xMSAxLjY1Yy0uMTkuMTUtLjI0LjQyLS4xMi42NGwyIDMuNDZjLjEyLjIyLjM5LjMuNjEuMjJsMi40OS0xYy41Mi40IDEuMDguNzMgMS42OS45OGwuMzggMi42NWMuMDMuMjQuMjQuNDIuNDkuNDJoNGMuMjUgMCAuNDYtLjE4LjQ5LS40MmwuMzgtMi42NWMuNjEtLjI1IDEuMTctLjU5IDEuNjktLjk4bDIuNDkgMWMuMjMuMDkuNDkgMCAuNjEtLjIybDItMy40NmMuMTItLjIyLjA3LS40OS0uMTItLjY0bC0yLjExLTEuNjV6TTEyIDE1LjVjLTEuOTMgMC0zLjUtMS41Ny0zLjUtMy41czEuNTctMy41IDMuNS0zLjUgMy41IDEuNTcgMy41IDMuNS0xLjU3IDMuNS0zLjUgMy41eidcclxuICAgICAgLz5cclxuICAgIDwvc3ZnPlxyXG4gICk7XHJcbn1cclxuIiwiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCc7XHJcbmltcG9ydCBNZXNzYWdlc0Rpc3BhbGVyIGZyb20gJy4vbWVzc2FnZXMtZGlzcGxheWVyJztcclxuaW1wb3J0IHsgU2V0dGluZ3MgfSBmcm9tICcuLi9sYXlvdXQvaWNvbnMvU2V0dMSxbmdzJztcclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2hhdCh7IGNvbnRhY3QsIG9uU2V0dGluZyB9KSB7XHJcbiAgY29uc3QgeyBtZXNzYWdlcyB9ID0gY29udGFjdDtcclxuICByZXR1cm4gKFxyXG4gICAgPGRpdlxyXG4gICAgICBjbGFzc05hbWU9J2NoYXQtc3RhdGUtdmlldydcclxuICAgICAgc3R5bGU9e3sgbWFyZ2luOiA4LCBoZWlnaHQ6ICcxMDAlJyB9fVxyXG4gICAgICBkYXRhLXRlc3RpZD0nY2hhdCdcclxuICAgID5cclxuICAgICAgPGRpdlxyXG4gICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtZW5kJyxcclxuICAgICAgICAgIHdpZHRoOiAnMTAwJScsXHJcbiAgICAgICAgfX1cclxuICAgICAgPlxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgcGFkZGluZ1JpZ2h0OiA4LCBwYWRkaW5nVG9wOiA4IH19IG9uQ2xpY2s9e29uU2V0dGluZ31kYXRhLXRlc3RpZD0nc2V0dGluZyc+XHJcbiAgICAgICAgICA8U2V0dGluZ3MgLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxociBzdHlsZT17eyB3aWR0aDogJzk5JScgfX0gLz5cclxuICAgICAgPE1lc3NhZ2VzRGlzcGFsZXIgbWVzc2FnZXM9e21lc3NhZ2VzfSAvPlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG4iXSwibmFtZXMiOlsiRGF0ZUxpbmVicmVhayIsImRhdGV0aW1lIiwiZGlzcGxheSIsImZsZXgiLCJmb250U2l6ZSIsImNvbG9yIiwiRGF0ZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsIk1lc3NhZ2VBbGlnbmVyIiwiY2hpbGRyZW4iLCJzaWRlIiwic3R5bGUiLCJhbGlnbm1lbnQiLCJqdXN0aWZ5Q29udGVudCIsIk1lc3NhZ2VWaWV3IiwibWVzc2FnZSIsImJvcmRlclJhZGl1cyIsIm1heFdpZHRoIiwid29yZFdyYXAiLCJ3b3JkQnJlYWsiLCJtaW5XaWR0aCIsImJhY2tncm91bmRDb2xvciIsInBhZGRpbmciLCJtYXJnaW4iLCJwYWRkaW5nVG9wIiwidGV4dEFsaWduIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiU3Vic2VxdWVudE1lc3NhZ2UiLCJhbGlnbkl0ZW1zIiwibWFyZ2luTGVmdCIsIk1lc3NhZ2UiLCJoZWlnaHQiLCJ3aWR0aCIsImJvcmRlclN0eWxlIiwiYm9yZGVyV2lkdGgiLCJib3JkZXJDb2xvciIsIk1lc3NhZ2VBdmF0YXIiLCJsZXR0ZXIiLCJ0b1VwcGVyQ2FzZSIsIkZpcnN0TWVzc2FnZSIsImxvY2FsIiwiTWVzc2FnZU9iamVjdE1hcHB0ZXIiLCJwcm9wcyIsIm9yZGVyIiwiZGF0ZVNwYWNlIiwidXNlTWVzc2FnZVNvcnRlciIsIm1lc3NhZ2VzIiwic29ydGVkTWVzc2FnZXMiLCJzZXRTb3J0ZWRNZXNzYWdlcyIsInVzZVN0YXRlIiwidXNlRWZmZWN0Iiwic29ydCIsImEiLCJiIiwidXNlTWVzc2FnZXNNYXBwZXIiLCJtYXBwZWRNZXNzYWdlcyIsInNldE1hcHBlZE1lc3NhZ2VzIiwibWFwTWVzc2FnZXMiLCJsb2NhbFNpZGUiLCJyZW1vdGVTaWRlIiwibGVuZ3RoIiwiZW1haWwiLCJmcm9tIiwibGFzdERhdGV0aW1lIiwibWFwIiwibSIsImkiLCJ1bmRlZmluZWQiLCJnZXREYXRlIiwiTWVzc2FnZUNvbGxlY3Rpb25WaWV3IiwiTWVzc2FnZU9iamVjdE1hcHBlciIsIk1lc3NhZ2VWaWV3U2Nyb2xsZXIiLCJ0cmFuc2Zvcm0iLCJvdmVyZmxvdyIsIk1lc3NhZ2VFZGl0b3JEaXNwbGF5ZXIiLCJvbk1lc3NhZ2VDaGFuZ2UiLCJzZW5kTWVzc2FnZSIsImlkIiwiZGlzYWJsZWQiLCJNZXNzYWdlc0Rpc3BsYXllciIsInNvY2tldCIsIm1lc3NhZ2VUZXh0IiwiaGFuZGxlTWVzc2FnZUNoYW5nZSIsInVzZU1lc3NhZ2VNYXBwZXIiLCJTZXR0aW5ncyIsImZpbGwiLCJDaGF0IiwiY29udGFjdCIsIm9uU2V0dGluZyIsInBhZGRpbmdSaWdodCIsIk1lc3NhZ2VzRGlzcGFsZXIiXSwibWFwcGluZ3MiOiI7O0FBRUEsTUFBTUEsYUFBYSxHQUFHLENBQUM7QUFBRUMsRUFBQUE7QUFBRixDQUFELEtBQWtCO0FBQ3RDLFNBQ0U7QUFBSyxJQUFBLEtBQUssRUFBRTtBQUFFQyxNQUFBQSxPQUFPLEVBQUU7QUFBWDtBQUFaLEtBQ0U7QUFBSyxJQUFBLEtBQUssRUFBRTtBQUFFQyxNQUFBQSxJQUFJLEVBQUU7QUFBUjtBQUFaLEtBQ0UsYUFERixDQURGLEVBSUU7QUFBSyxJQUFBLEtBQUssRUFBRTtBQUFFQyxNQUFBQSxRQUFRLEVBQUUsRUFBWjtBQUFnQkMsTUFBQUEsS0FBSyxFQUFFO0FBQXZCO0FBQVosS0FDRyxJQUFJQyxJQUFKLENBQVNMLFFBQVQsRUFBbUJNLGtCQUFuQixFQURILENBSkYsRUFPRTtBQUFLLElBQUEsS0FBSyxFQUFFO0FBQUVKLE1BQUFBLElBQUksRUFBRTtBQUFSO0FBQVosS0FDRSxhQURGLENBUEYsQ0FERjtBQWFELENBZEQ7O0FDQUEsTUFBTUss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
