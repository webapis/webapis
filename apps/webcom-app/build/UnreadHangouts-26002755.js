import { j as v, p, h, w as List, x as ListItem } from './index-c370a65f.js';

function reducerUnreadhangouts({
  unreadhangouts
}) {
  return unreadhangouts.reduce((accumulator, current, index) => {
    if (index === 0) {
      return accumulator = [{ ...current,
        messageCount: 1
      }];
    } else {
      const obj = accumulator.find(a => a.username === current.username && current.state === 'MESSANGER');

      if (obj) {
        const index = accumulator.findIndex(a => a.username === current.username); //if current exist inside accumilator map it to that object

        accumulator.splice(index, 1, { ...obj,
          messageCount: ++obj.messageCount
        });
      } else {
        //if current exist inside accumilator map it to that object
        accumulator.push({ ...current,
          messageCount: 1
        });
      }
    }

    return accumulator;
  }, []);
}

function UnreadHangouts({
  unreadhangouts,
  onSelectUnread,
  onRemoveUnread
}) {
  const [items, setItems] = v([]);
  p(() => {
    if (unreadhangouts) {
      const reduced = reducerUnreadhangouts({
        unreadhangouts
      });
      setItems(reduced);
    }
  }, [unreadhangouts]);
  return h("div", {
    "data-testid": "unreadhangouts",
    style: {
      paddingTop: 68
    }
  }, h(List, null, items && items.length > 0 && items.map(u => {
    return h("div", {
      style: {
        display: 'flex'
      }
    }, h(ListItem, {
      onClick: onSelectUnread,
      id: u.username
    }, u.username, " messages: ", u.messageCount), h(ListItem, {
      onClick: onRemoveUnread,
      id: u.username
    }, "x"));
  })));
}

export default UnreadHangouts;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVW5yZWFkSGFuZ291dHMtMjYwMDI3NTUuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2NsaWVudC9oYW5nb3V0cy9zdGF0ZS9yZWR1Y2VVbnJlYWRoYW5nb3V0cy5qcyIsIi4uLy4uLy4uL2NsaWVudC9oYW5nb3V0cy9VbnJlYWRIYW5nb3V0cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gcmVkdWNlclVucmVhZGhhbmdvdXRzKHt1bnJlYWRoYW5nb3V0c30pe1xuICAgIHJldHVybiAgIHVucmVhZGhhbmdvdXRzLnJlZHVjZSgoYWNjdW11bGF0b3IsIGN1cnJlbnQsIGluZGV4KSA9PiB7XG4gICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiAoYWNjdW11bGF0b3IgPSBbeyAuLi5jdXJyZW50LCBtZXNzYWdlQ291bnQ6IDEgfV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IG9iaiA9IGFjY3VtdWxhdG9yLmZpbmQoXG4gICAgICAgICAgICAoYSkgPT4gYS51c2VybmFtZSA9PT0gY3VycmVudC51c2VybmFtZSAmJiBjdXJyZW50LnN0YXRlID09PSAnTUVTU0FOR0VSJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKG9iaikge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBhY2N1bXVsYXRvci5maW5kSW5kZXgoXG4gICAgICAgICAgICAgIChhKSA9PiBhLnVzZXJuYW1lID09PSBjdXJyZW50LnVzZXJuYW1lXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgLy9pZiBjdXJyZW50IGV4aXN0IGluc2lkZSBhY2N1bWlsYXRvciBtYXAgaXQgdG8gdGhhdCBvYmplY3RcbiAgICAgICAgICAgIGFjY3VtdWxhdG9yLnNwbGljZShpbmRleCwgMSwge1xuICAgICAgICAgICAgICAuLi5vYmosXG4gICAgICAgICAgICAgIG1lc3NhZ2VDb3VudDogKytvYmoubWVzc2FnZUNvdW50LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vaWYgY3VycmVudCBleGlzdCBpbnNpZGUgYWNjdW1pbGF0b3IgbWFwIGl0IHRvIHRoYXQgb2JqZWN0XG4gICAgICAgICAgICBhY2N1bXVsYXRvci5wdXNoKHsgLi4uY3VycmVudCwgbWVzc2FnZUNvdW50OiAxIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgICB9LCBbXSk7XG59IiwiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncHJlYWN0L2hvb2tzJztcbmltcG9ydCB7IExpc3QsIExpc3RJdGVtIH0gZnJvbSAnLi4vbGF5b3V0L05hdkxpc3QnO1xuaW1wb3J0IHtyZWR1Y2VyVW5yZWFkaGFuZ291dHN9IGZyb20gJy4uL2hhbmdvdXRzL3N0YXRlL3JlZHVjZVVucmVhZGhhbmdvdXRzJ1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVW5yZWFkSGFuZ291dHMoeyB1bnJlYWRoYW5nb3V0cyxvblNlbGVjdFVucmVhZCxvblJlbW92ZVVucmVhZCB9KSB7XG5cbiAgY29uc3QgW2l0ZW1zLHNldEl0ZW1zXSA9dXNlU3RhdGUoW10pXG51c2VFZmZlY3QoKCk9PntcbmlmKHVucmVhZGhhbmdvdXRzKXtcblxuICBjb25zdCByZWR1Y2VkID1yZWR1Y2VyVW5yZWFkaGFuZ291dHMoe3VucmVhZGhhbmdvdXRzfSlcbiBcbiAgc2V0SXRlbXMocmVkdWNlZClcbn1cblxufSxbdW5yZWFkaGFuZ291dHNdKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBkYXRhLXRlc3RpZD0ndW5yZWFkaGFuZ291dHMnIHN0eWxlPXt7cGFkZGluZ1RvcDo2OH19PlxuICAgICAgPExpc3Q+XG4gICAgICAgIHtpdGVtcyAmJlxuICAgICAgICAgIGl0ZW1zLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICBpdGVtcy5tYXAoKHUpID0+IHtcbiAgICAgICBcbiAgICAgICAgICByZXR1cm4gIDxkaXYgc3R5bGU9e3tkaXNwbGF5OidmbGV4J319PlxuICAgICAgICAgICAgPExpc3RJdGVtIG9uQ2xpY2s9e29uU2VsZWN0VW5yZWFkfSBpZD17dS51c2VybmFtZX0+e3UudXNlcm5hbWV9IG1lc3NhZ2VzOiB7dS5tZXNzYWdlQ291bnR9PC9MaXN0SXRlbT5cbiAgICAgICAgICA8TGlzdEl0ZW0gb25DbGljaz17b25SZW1vdmVVbnJlYWR9IGlkPXt1LnVzZXJuYW1lfT54PC9MaXN0SXRlbT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIH0pfVxuICAgICAgPC9MaXN0PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInJlZHVjZXJVbnJlYWRoYW5nb3V0cyIsInVucmVhZGhhbmdvdXRzIiwicmVkdWNlIiwiYWNjdW11bGF0b3IiLCJjdXJyZW50IiwiaW5kZXgiLCJtZXNzYWdlQ291bnQiLCJvYmoiLCJmaW5kIiwiYSIsInVzZXJuYW1lIiwic3RhdGUiLCJmaW5kSW5kZXgiLCJzcGxpY2UiLCJwdXNoIiwiVW5yZWFkSGFuZ291dHMiLCJvblNlbGVjdFVucmVhZCIsIm9uUmVtb3ZlVW5yZWFkIiwiaXRlbXMiLCJzZXRJdGVtcyIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwicmVkdWNlZCIsInBhZGRpbmdUb3AiLCJsZW5ndGgiLCJtYXAiLCJ1IiwiZGlzcGxheSJdLCJtYXBwaW5ncyI6Ijs7QUFBTyxTQUFTQSxxQkFBVCxDQUErQjtBQUFDQyxFQUFBQTtBQUFELENBQS9CLEVBQWdEO0FBQ25ELFNBQVNBLGNBQWMsQ0FBQ0MsTUFBZixDQUFzQixDQUFDQyxXQUFELEVBQWNDLE9BQWQsRUFBdUJDLEtBQXZCLEtBQWlDO0FBQzVELFFBQUlBLEtBQUssS0FBSyxDQUFkLEVBQWlCO0FBQ2YsYUFBUUYsV0FBVyxHQUFHLENBQUMsRUFBRSxHQUFHQyxPQUFMO0FBQWNFLFFBQUFBLFlBQVksRUFBRTtBQUE1QixPQUFELENBQXRCO0FBQ0QsS0FGRCxNQUVPO0FBQ0wsWUFBTUMsR0FBRyxHQUFHSixXQUFXLENBQUNLLElBQVosQ0FDVEMsQ0FBRCxJQUFPQSxDQUFDLENBQUNDLFFBQUYsS0FBZU4sT0FBTyxDQUFDTSxRQUF2QixJQUFtQ04sT0FBTyxDQUFDTyxLQUFSLEtBQWtCLFdBRGxELENBQVo7O0FBR0EsVUFBSUosR0FBSixFQUFTO0FBQ1AsY0FBTUYsS0FBSyxHQUFHRixXQUFXLENBQUNTLFNBQVosQ0FDWEgsQ0FBRCxJQUFPQSxDQUFDLENBQUNDLFFBQUYsS0FBZU4sT0FBTyxDQUFDTSxRQURsQixDQUFkLENBRE87O0FBS1BQLFFBQUFBLFdBQVcsQ0FBQ1UsTUFBWixDQUFtQlIsS0FBbkIsRUFBMEIsQ0FBMUIsRUFBNkIsRUFDM0IsR0FBR0UsR0FEd0I7QUFFM0JELFVBQUFBLFlBQVksRUFBRSxFQUFFQyxHQUFHLENBQUNEO0FBRk8sU0FBN0I7QUFJRCxPQVRELE1BU087QUFDTDtBQUNBSCxRQUFBQSxXQUFXLENBQUNXLElBQVosQ0FBaUIsRUFBRSxHQUFHVixPQUFMO0FBQWNFLFVBQUFBLFlBQVksRUFBRTtBQUE1QixTQUFqQjtBQUNEO0FBQ0Y7O0FBQ0QsV0FBT0gsV0FBUDtBQUNELEdBdEJNLEVBc0JKLEVBdEJJLENBQVQ7QUF1Qkg7O0FDcEJjLFNBQVNZLGNBQVQsQ0FBd0I7QUFBRWQsRUFBQUEsY0FBRjtBQUFpQmUsRUFBQUEsY0FBakI7QUFBZ0NDLEVBQUFBO0FBQWhDLENBQXhCLEVBQTBFO0FBRXZGLFFBQU0sQ0FBQ0MsS0FBRCxFQUFPQyxRQUFQLElBQWtCQyxDQUFRLENBQUMsRUFBRCxDQUFoQztBQUNGQyxFQUFBQSxDQUFTLENBQUMsTUFBSTtBQUNkLFFBQUdwQixjQUFILEVBQWtCO0FBRWhCLFlBQU1xQixPQUFPLEdBQUV0QixxQkFBcUIsQ0FBQztBQUFDQyxRQUFBQTtBQUFELE9BQUQsQ0FBcEM7QUFFQWtCLE1BQUFBLFFBQVEsQ0FBQ0csT0FBRCxDQUFSO0FBQ0Q7QUFFQSxHQVJRLEVBUVAsQ0FBQ3JCLGNBQUQsQ0FSTyxDQUFUO0FBVUUsU0FDRTtBQUFLLG1CQUFZLGdCQUFqQjtBQUFrQyxJQUFBLEtBQUssRUFBRTtBQUFDc0IsTUFBQUEsVUFBVSxFQUFDO0FBQVo7QUFBekMsS0FDRSxFQUFDLElBQUQsUUFDR0wsS0FBSyxJQUNKQSxLQUFLLENBQUNNLE1BQU4sR0FBZSxDQURoQixJQUVDTixLQUFLLENBQUNPLEdBQU4sQ0FBV0MsQ0FBRCxJQUFPO0FBRWpCLFdBQVE7QUFBSyxNQUFBLEtBQUssRUFBRTtBQUFDQyxRQUFBQSxPQUFPLEVBQUM7QUFBVDtBQUFaLE9BQ04sRUFBQyxRQUFEO0FBQVUsTUFBQSxPQUFPLEVBQUVYLGNBQW5CO0FBQW1DLE1BQUEsRUFBRSxFQUFFVSxDQUFDLENBQUNoQjtBQUF6QyxPQUFvRGdCLENBQUMsQ0FBQ2hCLFFBQXRELGlCQUEyRWdCLENBQUMsQ0FBQ3BCLFlBQTdFLENBRE0sRUFFUixFQUFDLFFBQUQ7QUFBVSxNQUFBLE9BQU8sRUFBRVcsY0FBbkI7QUFBbUMsTUFBQSxFQUFFLEVBQUVTLENBQUMsQ0FBQ2hCO0FBQXpDLFdBRlEsQ0FBUjtBQUlDLEdBTkQsQ0FISixDQURGLENBREY7QUFlRDs7OzsifQ==
