import { u as useAppContext, p, h } from './index-e8d41a01.js';
import { B as Button, v as validationTypes, I as Input, F as Form, a as valueChanged, c as changePassword } from './actions-0419c51d.js';
import './style-b7c41500.js';

function ChangePassword() {
  const {
    form,
    auth
  } = useAppContext();
  const {
    state,
    dispatch
  } = auth;
  const {
    password,
    confirm,
    current,
    emailorusername,
    token,
    error
  } = state;
  p(() => {
    let url = new URL(window.location.href);
    var token = url.searchParams.get('token');
  }, []);

  function handleChange(e) {
    const {
      name,
      value
    } = e.target;
    dispatch(valueChanged({
      propName: name,
      value,
      dispatch,
      state
    }));
  }

  function handleChangePass() {
    dispatch(changePassword({
      dispatch,
      state,
      formDispatch: form.dispatch
    }));
  }

  return h("div", {
    "data-testid": "signupform",
    className: "auth-form"
  }, h(Form, {
    formTitle: "Change Password",
    error: error
  }, !token && h(Input, {
    value: emailorusername,
    type: "text",
    id: "emailorusername",
    name: "emailorusername",
    placeholder: "Enter email or username",
    onChange: handleChange,
    validationTypes: [validationTypes.USERNAME_OR_EMAIL_FORMAT_VALIDATION, validationTypes.INVALID_CREDENTIALS]
  }), !token && h(Input, {
    value: current,
    type: "password",
    id: "current",
    name: "current",
    onChange: handleChange,
    placeholder: "Enter current password",
    validationTypes: [validationTypes.EMPTY_STRING_VALIDATION, validationTypes.INVALID_CREDENTIALS]
  }), h(Input, {
    value: password,
    type: "password",
    id: "password",
    name: "password",
    placeholder: "Enter new password",
    onChange: handleChange,
    validationTypes: [validationTypes.PASSWORD_FORMAT_VALIDATION]
  }), h(Input, {
    value: confirm,
    type: "password",
    id: "confirm",
    name: "confirm",
    placeholder: "Confirm new password",
    onChange: handleChange,
    validationTypes: [validationTypes.PASSWORDS_MATCH_VALIDATION]
  }), h(Button, {
    type: "button",
    id: "change-pass-btn",
    "data-testid": "change-pass-btn",
    onClick: handleChangePass,
    title: "Change"
  })));
}

export default ChangePassword;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2hhbmdlUGFzc3dvcmQtMWU1MWM5NGQuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2NsaWVudC9hdXRoL0NoYW5nZVBhc3N3b3JkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGggfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncHJlYWN0L2hvb2tzJztcbmltcG9ydCAnLi9jc3Mvc3R5bGUuY3NzJztcbmltcG9ydCBJbnB1dCBmcm9tICcuLi9mb3JtL0lucHV0JztcbmltcG9ydCBGb3JtIGZyb20gJy4uL2Zvcm0vRm9ybSc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJy4uL2Zvcm0vQnV0dG9uJztcbmltcG9ydCB2YWxpZGF0aW9uVHlwZXMgZnJvbSAnLi4vZm9ybS92YWxpZGF0aW9uVHlwZXMnO1xuaW1wb3J0IHsgdXNlQXBwQ29udGV4dCB9IGZyb20gJy4uL2FwcC1jb250ZXh0JztcbmltcG9ydCAqIGFzIGFjdGlvbnMgZnJvbSAnLi9hY3Rpb25zJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2hhbmdlUGFzc3dvcmQoKSB7XG4gIGNvbnN0IHsgZm9ybSwgYXV0aCB9ID0gdXNlQXBwQ29udGV4dCgpO1xuY29uc3Qge3N0YXRlLGRpc3BhdGNofT1hdXRoXG4gIGNvbnN0IHtcbiAgICBwYXNzd29yZCxcbiAgICBjb25maXJtLFxuICAgIGN1cnJlbnQsXG4gICAgZW1haWxvcnVzZXJuYW1lLFxuICAgIHRva2VuLFxuICAgIGVycm9yLFxuICB9ID0gc3RhdGU7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgdmFyIHRva2VuID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoJ3Rva2VuJyk7XG4gICAgaWYgKHRva2VuKSB7XG4gICAgICBhY3Rpb25zLmdldFRva2VuRnJvbVVybCh7IHRva2VuLCBkaXNwYXRjaCwgc3RhdGUgfSk7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKGUpIHtcbiAgICBjb25zdCB7IG5hbWUsIHZhbHVlIH0gPSBlLnRhcmdldDtcbiAgIGRpc3BhdGNoKFxuICAgICAgYWN0aW9ucy52YWx1ZUNoYW5nZWQoe1xuICAgICAgICBwcm9wTmFtZTogbmFtZSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGRpc3BhdGNoLFxuICAgICAgICBzdGF0ZVxuICAgICAgfSlcbiAgICApO1xuICB9XG4gIGZ1bmN0aW9uIGhhbmRsZUNoYW5nZVBhc3MoKSB7XG4gICAgZGlzcGF0Y2goXG4gICAgICBhY3Rpb25zLmNoYW5nZVBhc3N3b3JkKHtcbiAgICAgICAgZGlzcGF0Y2gsXG4gICAgICAgIHN0YXRlLFxuICAgICAgICBmb3JtRGlzcGF0Y2g6IGZvcm0uZGlzcGF0Y2gsXG4gICAgICB9KVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGRhdGEtdGVzdGlkPSdzaWdudXBmb3JtJyBjbGFzc05hbWU9J2F1dGgtZm9ybSc+XG4gICAgICA8Rm9ybSBmb3JtVGl0bGU9J0NoYW5nZSBQYXNzd29yZCcgZXJyb3I9e2Vycm9yfT5cbiAgICAgICAgeyF0b2tlbiAmJiAoXG4gICAgICAgICAgPElucHV0XG4gICAgICAgICAgICB2YWx1ZT17ZW1haWxvcnVzZXJuYW1lfVxuICAgICAgICAgICAgdHlwZT0ndGV4dCdcbiAgICAgICAgICAgIGlkPSdlbWFpbG9ydXNlcm5hbWUnXG4gICAgICAgICAgICBuYW1lPSdlbWFpbG9ydXNlcm5hbWUnXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj0nRW50ZXIgZW1haWwgb3IgdXNlcm5hbWUnXG4gICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfVxuICAgICAgICAgICAgdmFsaWRhdGlvblR5cGVzPXtbXG4gICAgICAgICAgICAgIHZhbGlkYXRpb25UeXBlcy5VU0VSTkFNRV9PUl9FTUFJTF9GT1JNQVRfVkFMSURBVElPTixcbiAgICAgICAgICAgICAgdmFsaWRhdGlvblR5cGVzLklOVkFMSURfQ1JFREVOVElBTFMsXG4gICAgICAgICAgICBdfVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICAgIHshdG9rZW4gJiYgKFxuICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgdmFsdWU9e2N1cnJlbnR9XG4gICAgICAgICAgICB0eXBlPSdwYXNzd29yZCdcbiAgICAgICAgICAgIGlkPSdjdXJyZW50J1xuICAgICAgICAgICAgbmFtZT0nY3VycmVudCdcbiAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj0nRW50ZXIgY3VycmVudCBwYXNzd29yZCdcbiAgICAgICAgICAgIHZhbGlkYXRpb25UeXBlcz17W1xuICAgICAgICAgICAgICB2YWxpZGF0aW9uVHlwZXMuRU1QVFlfU1RSSU5HX1ZBTElEQVRJT04sXG4gICAgICAgICAgICAgIHZhbGlkYXRpb25UeXBlcy5JTlZBTElEX0NSRURFTlRJQUxTLFxuICAgICAgICAgICAgXX1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuXG4gICAgICAgIDxJbnB1dFxuICAgICAgICAgIHZhbHVlPXtwYXNzd29yZH1cbiAgICAgICAgICB0eXBlPSdwYXNzd29yZCdcbiAgICAgICAgICBpZD0ncGFzc3dvcmQnXG4gICAgICAgICAgbmFtZT0ncGFzc3dvcmQnXG4gICAgICAgICAgcGxhY2Vob2xkZXI9J0VudGVyIG5ldyBwYXNzd29yZCdcbiAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfVxuICAgICAgICAgIHZhbGlkYXRpb25UeXBlcz17W3ZhbGlkYXRpb25UeXBlcy5QQVNTV09SRF9GT1JNQVRfVkFMSURBVElPTl19XG4gICAgICAgIC8+XG4gICAgICAgIDxJbnB1dFxuICAgICAgICAgIHZhbHVlPXtjb25maXJtfVxuICAgICAgICAgIHR5cGU9J3Bhc3N3b3JkJ1xuICAgICAgICAgIGlkPSdjb25maXJtJ1xuICAgICAgICAgIG5hbWU9J2NvbmZpcm0nXG4gICAgICAgICAgcGxhY2Vob2xkZXI9J0NvbmZpcm0gbmV3IHBhc3N3b3JkJ1xuICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgdmFsaWRhdGlvblR5cGVzPXtbdmFsaWRhdGlvblR5cGVzLlBBU1NXT1JEU19NQVRDSF9WQUxJREFUSU9OXX1cbiAgICAgICAgLz5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIHR5cGU9J2J1dHRvbidcbiAgICAgICAgICBpZD0nY2hhbmdlLXBhc3MtYnRuJ1xuICAgICAgICAgIGRhdGEtdGVzdGlkPSdjaGFuZ2UtcGFzcy1idG4nXG4gICAgICAgICAgb25DbGljaz17aGFuZGxlQ2hhbmdlUGFzc31cbiAgICAgICAgICB0aXRsZT0nQ2hhbmdlJ1xuICAgICAgICAvPlxuICAgICAgPC9Gb3JtPlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbIkNoYW5nZVBhc3N3b3JkIiwiZm9ybSIsImF1dGgiLCJ1c2VBcHBDb250ZXh0Iiwic3RhdGUiLCJkaXNwYXRjaCIsInBhc3N3b3JkIiwiY29uZmlybSIsImN1cnJlbnQiLCJlbWFpbG9ydXNlcm5hbWUiLCJ0b2tlbiIsImVycm9yIiwidXNlRWZmZWN0IiwidXJsIiwiVVJMIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwic2VhcmNoUGFyYW1zIiwiZ2V0IiwiaGFuZGxlQ2hhbmdlIiwiZSIsIm5hbWUiLCJ2YWx1ZSIsInRhcmdldCIsImFjdGlvbnMiLCJwcm9wTmFtZSIsImhhbmRsZUNoYW5nZVBhc3MiLCJmb3JtRGlzcGF0Y2giLCJ2YWxpZGF0aW9uVHlwZXMiLCJVU0VSTkFNRV9PUl9FTUFJTF9GT1JNQVRfVkFMSURBVElPTiIsIklOVkFMSURfQ1JFREVOVElBTFMiLCJFTVBUWV9TVFJJTkdfVkFMSURBVElPTiIsIlBBU1NXT1JEX0ZPUk1BVF9WQUxJREFUSU9OIiwiUEFTU1dPUkRTX01BVENIX1ZBTElEQVRJT04iXSwibWFwcGluZ3MiOiI7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
