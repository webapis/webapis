import { h, _ as _extends, m, p, u as useContactsContext, e as useAuthContext, q as v, A as ListItem, B as List, C as selectContact } from './index-a6321377.js';

const style = {
  padding: 8,
  marginLeft: 16,
  marginRight: 16,
  marginTop: 8,
  marginBottom: 8,
  boxSizing: 'border-box',
  flex: 1
};
function TextInput(props) {
  const {
    id,
    type = 'text'
  } = props;
  return h("div", {
    style: {
      display: 'flex',
      width: '100%'
    }
  }, h("input", _extends({
    style: style
  }, props, {
    "data-testid": id,
    type: type
  })));
}

const actionTypes = {
  FETCH_CONTACTS_STARTED: 'FETCH_CONTACTS_STARTED',
  FETCH_CONTACTS_SUCCESS: 'FETCH_CONTACTS_SUCCESS',
  FETCH_CONTACTS_FAILED: 'FETCH_CONTACTS_FAILED',
  GET_LOCAL_CONTACTS: 'GET_LOCAL_CONTACTS',
  FIND_CONTACT: 'FIND_CONTACT'
};

async function fetchContacts({
  dispatch,
  username
}) {
  try {
    dispatch({
      type: actionTypes.FETCH_CONTACTS_STARTED
    });
    const response = await fetch(`/contacts/find?username=${username}`);
    const {
      contacts
    } = await response.json();
    dispatch({
      type: actionTypes.FETCH_CONTACTS_SUCCESS,
      contacts
    });
  } catch (error) {
    dispatch({
      type: actionTypes.FETCH_CONTACTS_FAILED,
      error
    });
  }
}

function getLocalContacts({
  dispatch,
  contacts
}) {
  dispatch({
    type: actionTypes.GET_LOCAL_CONTACTS,
    contacts
  });
}

function findContact({
  dispatch,
  filter
}) {
  dispatch({
    type: actionTypes.FIND_CONTACT,
    filter
  });
}

const initState = {
  loading: false,
  error: null,
  contacts: []
};

function contactsReducer(state, action) {
  switch (action.type) {
    case actionTypes.FETCH_CONTACTS_STARTED:
      return { ...state,
        loading: true
      };

    case actionTypes.FETCH_CONTACTS_SUCCESS:
      return { ...state,
        loading: false,
        contacts: action.contacts
      };

    case actionTypes.FETCH_CONTACTS_FAILED:
      return { ...state,
        loading: false,
        error: action.error
      };

    case actionTypes.FIND_CONTACT:
      return { ...state,
        contacts: state.contacts.filter(c => c.username === action.filter)
      };

    case actionTypes.GET_LOCAL_CONTACTS:
      const nextState = { ...state,
        contacts: action.contacts
      };
      return nextState;

    default:
      return state;
  }
}

function useContacts({
  filter,
  username
}) {
  const [state, dispatch] = m(contactsReducer, initState);
  p(() => {
    if (localStorage.getItem(`contacts-${username}`)) {
      const storage = JSON.parse(localStorage.getItem(`contacts-${username}`));
      getLocalContacts({
        dispatch,
        contacts: storage.contacts
      });
    } else {
      fetchContacts({
        dispatch,
        username
      });
    }
  }, []);
  p(() => {
    if (filter && filter.length > 3) {
      findContact({
        dispatch,
        filter
      });
    }
  }, [filter]);
  return {
    state
  };
}

const initState$1 = {
  users: [],
  loading: false,
  error: null
};
const actionTypes$1 = {
  FETCH_USERS_STARTED: 'FETCH_USERS_STARTED',
  FETCH_USERS_SUCCESS: 'FETCH_USERS_SUCCESS',
  FETCH_USERS_FAILED: 'FETCH_USERS_FAILED'
};

async function fetchUsers({
  dispatch,
  filter
}) {
  try {
    dispatch({
      type: actionTypes$1.FETCH_USERS_STARTED
    });
    const response = await fetch(`/users/find?filter=${filter}`);
    const {
      users
    } = await response.json();
    dispatch({
      type: actionTypes$1.FETCH_USERS_SUCCESS,
      users
    });
  } catch (error) {
    dispatch({
      type: actionTypes$1.FETCH_USERS_FAILED,
      error
    });
  }
}

function usersReducer(state, action) {
  switch (action.type) {
    case actionTypes$1.FETCH_USERS_STARTED:
      return { ...state,
        loading: true
      };

    case actionTypes$1.FETCH_USERS_SUCCESS:
      return { ...state,
        users: action.users
      };

    case actionTypes$1.FETCH_USERS_FAILED:
      return { ...state,
        error: action.error
      };

    default:
      return state;
  }
}

function useUsers({
  filter
}) {
  const [state, dispatch] = m(usersReducer, initState$1);
  p(() => {
    if (filter && filter.length > 3) {
      fetchUsers({
        dispatch,
        filter
      });
    }
  }, [filter]);
  return {
    state
  };
}

function Contacts() {
  const [state, dispatch] = useContactsContext();
  const {
    state: authState
  } = useAuthContext();
  const [contactsfilter, setContactsFilter] = v(null);
  const [usersFilter, setUsersFilter] = v(null);
  const [items, setItems] = v([]);
  const {
    state: contactState
  } = useContacts({
    filter: contactsfilter,
    username: authState.username
  });
  const {
    state: userState
  } = useUsers({
    filter: usersFilter
  });

  function handleSearch(e) {
    const {
      value
    } = e.target;
    setContactsFilter(value);
  }

  p(() => {
    if (contactState.contacts.length > 0) {
      setItems(contactState.contacts);
    }
  }, [contactState]);
  p(() => {
    if (contactsfilter && contactState.contacts.length === 0) {
      setUsersFilter(contactsfilter);
    }

    if (contactsfilter && contactState.contacts.length > 0) {
      setItems(contactState.contacts);
    }
  }, [contactState.contacts, contactsfilter]);
  p(() => {
    if (usersFilter && userState.users.length > 0) {
      setItems(userState.users);
    }
  }, [userState.users, usersFilter]);

  function handleItemClick(e) {
    const selectedContact = items.find(item => item.username === e.target.id);
    selectContact({
      dispatch,
      contact: selectedContact
    });
  }

  return h("div", null, h(TextInput, {
    id: "contact-search",
    onChange: handleSearch,
    placeholder: "Enter username, or email"
  }), h(List, {
    id: "contacts-list"
  }, items.length > 0 && items.map(item => {
    return h(ListItem, {
      onClick: handleItemClick,
      id: item.username
    }, item.username);
  })));
}

export default Contacts;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29udGFjdHMtOTEzM2U4M2EuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2NsaWVudC9sYXlvdXQvVGV4dElucHV0LmpzIiwiLi4vLi4vLi4vY2xpZW50L2NvbnRhY3RzL3VzZUNvbnRhY3RzLmpzIiwiLi4vLi4vLi4vY2xpZW50L2NvbnRhY3RzL3VzZVVzZXJzLmpzIiwiLi4vLi4vLi4vY2xpZW50L2NvbnRhY3RzL0NvbnRhY3RzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGggfSBmcm9tICdwcmVhY3QnO1xyXG5cclxuY29uc3Qgc3R5bGUgPSB7XHJcbiAgcGFkZGluZzogOCxcclxuICBtYXJnaW5MZWZ0OiAxNixcclxuICBtYXJnaW5SaWdodDogMTYsXHJcbiAgbWFyZ2luVG9wOiA4LFxyXG4gIG1hcmdpbkJvdHRvbTogOCxcclxuICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcclxuICBmbGV4OiAxLFxyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFRleHRJbnB1dChwcm9wcykge1xyXG4gIGNvbnN0IHsgaWQsIHR5cGUgPSAndGV4dCcgfSA9IHByb3BzO1xyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4Jywgd2lkdGg6ICcxMDAlJyB9fT5cclxuICAgICAgPGlucHV0IHN0eWxlPXtzdHlsZX0gey4uLnByb3BzfSBkYXRhLXRlc3RpZD17aWR9IHR5cGU9e3R5cGV9IC8+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcbiIsImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVkdWNlciB9IGZyb20gJ3ByZWFjdC9ob29rcyc7XHJcblxyXG5jb25zdCBhY3Rpb25UeXBlcyA9IHtcclxuICBGRVRDSF9DT05UQUNUU19TVEFSVEVEOiAnRkVUQ0hfQ09OVEFDVFNfU1RBUlRFRCcsXHJcbiAgRkVUQ0hfQ09OVEFDVFNfU1VDQ0VTUzogJ0ZFVENIX0NPTlRBQ1RTX1NVQ0NFU1MnLFxyXG4gIEZFVENIX0NPTlRBQ1RTX0ZBSUxFRDogJ0ZFVENIX0NPTlRBQ1RTX0ZBSUxFRCcsXHJcbiAgR0VUX0xPQ0FMX0NPTlRBQ1RTOiAnR0VUX0xPQ0FMX0NPTlRBQ1RTJyxcclxuICBGSU5EX0NPTlRBQ1Q6ICdGSU5EX0NPTlRBQ1QnLFxyXG59O1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hDb250YWN0cyh7IGRpc3BhdGNoLCB1c2VybmFtZSB9KSB7XHJcbiAgdHJ5IHtcclxuICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9uVHlwZXMuRkVUQ0hfQ09OVEFDVFNfU1RBUlRFRCB9KTtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9jb250YWN0cy9maW5kP3VzZXJuYW1lPSR7dXNlcm5hbWV9YCk7XHJcbiAgICBjb25zdCB7IGNvbnRhY3RzIH0gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvblR5cGVzLkZFVENIX0NPTlRBQ1RTX1NVQ0NFU1MsIGNvbnRhY3RzIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvblR5cGVzLkZFVENIX0NPTlRBQ1RTX0ZBSUxFRCwgZXJyb3IgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRMb2NhbENvbnRhY3RzKHsgZGlzcGF0Y2gsIGNvbnRhY3RzIH0pIHtcclxuICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvblR5cGVzLkdFVF9MT0NBTF9DT05UQUNUUywgY29udGFjdHMgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbmRDb250YWN0KHsgZGlzcGF0Y2gsIGZpbHRlciB9KSB7XHJcbiAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25UeXBlcy5GSU5EX0NPTlRBQ1QsIGZpbHRlciB9KTtcclxufVxyXG5cclxuY29uc3QgaW5pdFN0YXRlID0ge1xyXG4gIGxvYWRpbmc6IGZhbHNlLFxyXG4gIGVycm9yOiBudWxsLFxyXG4gIGNvbnRhY3RzOiBbXSxcclxufTtcclxuXHJcbmZ1bmN0aW9uIGNvbnRhY3RzUmVkdWNlcihzdGF0ZSwgYWN0aW9uKSB7XHJcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xyXG4gICAgY2FzZSBhY3Rpb25UeXBlcy5GRVRDSF9DT05UQUNUU19TVEFSVEVEOlxyXG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgbG9hZGluZzogdHJ1ZSB9O1xyXG4gICAgY2FzZSBhY3Rpb25UeXBlcy5GRVRDSF9DT05UQUNUU19TVUNDRVNTOlxyXG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgbG9hZGluZzogZmFsc2UsIGNvbnRhY3RzOiBhY3Rpb24uY29udGFjdHMgfTtcclxuICAgIGNhc2UgYWN0aW9uVHlwZXMuRkVUQ0hfQ09OVEFDVFNfRkFJTEVEOlxyXG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgbG9hZGluZzogZmFsc2UsIGVycm9yOiBhY3Rpb24uZXJyb3IgfTtcclxuICAgIGNhc2UgYWN0aW9uVHlwZXMuRklORF9DT05UQUNUOlxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgIGNvbnRhY3RzOiBzdGF0ZS5jb250YWN0cy5maWx0ZXIoKGMpID0+IGMudXNlcm5hbWUgPT09IGFjdGlvbi5maWx0ZXIpLFxyXG4gICAgICB9O1xyXG4gICAgY2FzZSBhY3Rpb25UeXBlcy5HRVRfTE9DQUxfQ09OVEFDVFM6XHJcbiAgICAgIGNvbnN0IG5leHRTdGF0ZSA9IHsgLi4uc3RhdGUsIGNvbnRhY3RzOiBhY3Rpb24uY29udGFjdHMgfTtcclxuICAgICBcclxuICAgICAgcmV0dXJuIG5leHRTdGF0ZTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBzdGF0ZTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VDb250YWN0cyh7IGZpbHRlciwgdXNlcm5hbWUgfSkge1xyXG4gIGNvbnN0IFtzdGF0ZSwgZGlzcGF0Y2hdID0gdXNlUmVkdWNlcihjb250YWN0c1JlZHVjZXIsIGluaXRTdGF0ZSk7XHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShgY29udGFjdHMtJHt1c2VybmFtZX1gKSkge1xyXG5cclxuICAgICAgY29uc3Qgc3RvcmFnZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oYGNvbnRhY3RzLSR7dXNlcm5hbWV9YCkpO1xyXG4gICAgICBnZXRMb2NhbENvbnRhY3RzKHsgZGlzcGF0Y2gsIGNvbnRhY3RzOiBzdG9yYWdlLmNvbnRhY3RzIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZmV0Y2hDb250YWN0cyh7IGRpc3BhdGNoLCB1c2VybmFtZSB9KTtcclxuICAgIH1cclxuICB9LCBbXSk7XHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChmaWx0ZXIgJiYgZmlsdGVyLmxlbmd0aCA+IDMpIHtcclxuICAgICAgZmluZENvbnRhY3QoeyBkaXNwYXRjaCwgZmlsdGVyIH0pO1xyXG4gICAgfVxyXG4gIH0sIFtmaWx0ZXJdKTtcclxuXHJcbiAgcmV0dXJuIHsgc3RhdGUgfTtcclxufVxyXG4iLCJpbXBvcnQgeyB1c2VSZWR1Y2VyLCB1c2VFZmZlY3QgfSBmcm9tICdwcmVhY3QvaG9va3MnO1xyXG5cclxuY29uc3QgaW5pdFN0YXRlID0ge1xyXG4gIHVzZXJzOiBbXSxcclxuICBsb2FkaW5nOiBmYWxzZSxcclxuICBlcnJvcjogbnVsbCxcclxufTtcclxuY29uc3QgYWN0aW9uVHlwZXMgPSB7XHJcbiAgRkVUQ0hfVVNFUlNfU1RBUlRFRDogJ0ZFVENIX1VTRVJTX1NUQVJURUQnLFxyXG4gIEZFVENIX1VTRVJTX1NVQ0NFU1M6ICdGRVRDSF9VU0VSU19TVUNDRVNTJyxcclxuICBGRVRDSF9VU0VSU19GQUlMRUQ6ICdGRVRDSF9VU0VSU19GQUlMRUQnLFxyXG59O1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hVc2Vycyh7IGRpc3BhdGNoLCBmaWx0ZXIgfSkge1xyXG4gIHRyeSB7XHJcbiAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvblR5cGVzLkZFVENIX1VTRVJTX1NUQVJURUQgfSk7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvdXNlcnMvZmluZD9maWx0ZXI9JHtmaWx0ZXJ9YCk7XHJcbiAgICBjb25zdCB7IHVzZXJzIH0gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvblR5cGVzLkZFVENIX1VTRVJTX1NVQ0NFU1MsIHVzZXJzIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvblR5cGVzLkZFVENIX1VTRVJTX0ZBSUxFRCwgZXJyb3IgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiB1c2Vyc1JlZHVjZXIoc3RhdGUsIGFjdGlvbikge1xyXG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcclxuICAgIGNhc2UgYWN0aW9uVHlwZXMuRkVUQ0hfVVNFUlNfU1RBUlRFRDpcclxuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIGxvYWRpbmc6IHRydWUgfTtcclxuICAgIGNhc2UgYWN0aW9uVHlwZXMuRkVUQ0hfVVNFUlNfU1VDQ0VTUzpcclxuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIHVzZXJzOiBhY3Rpb24udXNlcnMgfTtcclxuICAgIGNhc2UgYWN0aW9uVHlwZXMuRkVUQ0hfVVNFUlNfRkFJTEVEOlxyXG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgZXJyb3I6IGFjdGlvbi5lcnJvciB9O1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVzZVVzZXJzKHsgZmlsdGVyIH0pIHtcclxuICBjb25zdCBbc3RhdGUsIGRpc3BhdGNoXSA9IHVzZVJlZHVjZXIodXNlcnNSZWR1Y2VyLCBpbml0U3RhdGUpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGZpbHRlciAmJiBmaWx0ZXIubGVuZ3RoID4gMykge1xyXG4gICAgICBmZXRjaFVzZXJzKHsgZGlzcGF0Y2gsIGZpbHRlciB9KTtcclxuICAgIH1cclxuICB9LCBbZmlsdGVyXSk7XHJcblxyXG4gIHJldHVybiB7IHN0YXRlIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCc7XHJcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdwcmVhY3QvaG9va3MnO1xyXG5pbXBvcnQgeyBMaXN0LCBMaXN0SXRlbSB9IGZyb20gJy4uL2xheW91dC9OYXZMaXN0JztcclxuaW1wb3J0IHsgVGV4dElucHV0IH0gZnJvbSAnLi4vbGF5b3V0L1RleHRJbnB1dCc7XHJcbmltcG9ydCB7IHVzZUNvbnRhY3RzIH0gZnJvbSAnLi91c2VDb250YWN0cyc7XHJcbmltcG9ydCB7IHVzZVVzZXJzIH0gZnJvbSAnLi91c2VVc2Vycyc7XHJcbmltcG9ydCB7IHVzZUF1dGhDb250ZXh0IH0gZnJvbSAnLi4vYXV0aC9hdXRoLWNvbnRleHQnO1xyXG5pbXBvcnQgeyB1c2VDb250YWN0c0NvbnRleHQsIHNlbGVjdENvbnRhY3QgfSBmcm9tICcuL2NvbnRhY3QtY29udGV4dCc7XHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbnRhY3RzKCkge1xyXG4gIGNvbnN0IFtzdGF0ZSwgZGlzcGF0Y2hdID0gdXNlQ29udGFjdHNDb250ZXh0KCk7XHJcbiAgY29uc3QgeyBzdGF0ZTogYXV0aFN0YXRlIH0gPSB1c2VBdXRoQ29udGV4dCgpO1xyXG4gIGNvbnN0IFtjb250YWN0c2ZpbHRlciwgc2V0Q29udGFjdHNGaWx0ZXJdID0gdXNlU3RhdGUobnVsbCk7XHJcbiAgY29uc3QgW3VzZXJzRmlsdGVyLCBzZXRVc2Vyc0ZpbHRlcl0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbaXRlbXMsIHNldEl0ZW1zXSA9IHVzZVN0YXRlKFtdKTtcclxuICBjb25zdCB7IHN0YXRlOiBjb250YWN0U3RhdGUgfSA9IHVzZUNvbnRhY3RzKHtcclxuICAgIGZpbHRlcjogY29udGFjdHNmaWx0ZXIsXHJcbiAgICB1c2VybmFtZTogYXV0aFN0YXRlLnVzZXJuYW1lLFxyXG4gIH0pO1xyXG4gIGNvbnN0IHsgc3RhdGU6IHVzZXJTdGF0ZSB9ID0gdXNlVXNlcnMoeyBmaWx0ZXI6IHVzZXJzRmlsdGVyIH0pO1xyXG5cclxuICBmdW5jdGlvbiBoYW5kbGVTZWFyY2goZSkge1xyXG4gICAgY29uc3QgeyB2YWx1ZSB9ID0gZS50YXJnZXQ7XHJcbiAgICBzZXRDb250YWN0c0ZpbHRlcih2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGNvbnRhY3RTdGF0ZS5jb250YWN0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgXHJcbiAgICAgIHNldEl0ZW1zKGNvbnRhY3RTdGF0ZS5jb250YWN0cyk7XHJcbiAgICB9XHJcbiAgfSwgW2NvbnRhY3RTdGF0ZV0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGNvbnRhY3RzZmlsdGVyICYmIGNvbnRhY3RTdGF0ZS5jb250YWN0cy5sZW5ndGggPT09IDApIHtcclxuXHJcbiAgICAgIHNldFVzZXJzRmlsdGVyKGNvbnRhY3RzZmlsdGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY29udGFjdHNmaWx0ZXIgJiYgY29udGFjdFN0YXRlLmNvbnRhY3RzLmxlbmd0aCA+IDApIHtcclxuICAgXHJcbiAgICAgIHNldEl0ZW1zKGNvbnRhY3RTdGF0ZS5jb250YWN0cyk7XHJcbiAgICB9XHJcbiAgfSwgW2NvbnRhY3RTdGF0ZS5jb250YWN0cywgY29udGFjdHNmaWx0ZXJdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICh1c2Vyc0ZpbHRlciAmJiB1c2VyU3RhdGUudXNlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICBzZXRJdGVtcyh1c2VyU3RhdGUudXNlcnMpO1xyXG4gICAgfVxyXG4gIH0sIFt1c2VyU3RhdGUudXNlcnMsIHVzZXJzRmlsdGVyXSk7XHJcblxyXG4gIGZ1bmN0aW9uIGhhbmRsZUl0ZW1DbGljayhlKSB7XHJcbiAgICBcclxuICAgIGNvbnN0IHNlbGVjdGVkQ29udGFjdCA9IGl0ZW1zLmZpbmQoKGl0ZW0pID0+IGl0ZW0udXNlcm5hbWUgPT09IGUudGFyZ2V0LmlkKTtcclxuXHJcbiAgICBzZWxlY3RDb250YWN0KHsgZGlzcGF0Y2gsIGNvbnRhY3Q6IHNlbGVjdGVkQ29udGFjdCB9KTtcclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2PlxyXG4gICAgICA8VGV4dElucHV0XHJcbiAgICAgICAgaWQ9J2NvbnRhY3Qtc2VhcmNoJ1xyXG4gICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVTZWFyY2h9XHJcbiAgICAgICAgcGxhY2Vob2xkZXI9J0VudGVyIHVzZXJuYW1lLCBvciBlbWFpbCdcclxuICAgICAgLz5cclxuICAgICAgPExpc3QgaWQ9J2NvbnRhY3RzLWxpc3QnPlxyXG4gICAgICAgIHtpdGVtcy5sZW5ndGggPiAwICYmXHJcbiAgICAgICAgICBpdGVtcy5tYXAoKGl0ZW0pID0+IHtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgIDxMaXN0SXRlbSBvbkNsaWNrPXtoYW5kbGVJdGVtQ2xpY2t9IGlkPXtpdGVtLnVzZXJuYW1lfT5cclxuICAgICAgICAgICAgICAgIHtpdGVtLnVzZXJuYW1lfVxyXG4gICAgICAgICAgICAgIDwvTGlzdEl0ZW0+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9KX1cclxuICAgICAgPC9MaXN0PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG4iXSwibmFtZXMiOlsic3R5bGUiLCJwYWRkaW5nIiwibWFyZ2luTGVmdCIsIm1hcmdpblJpZ2h0IiwibWFyZ2luVG9wIiwibWFyZ2luQm90dG9tIiwiYm94U2l6aW5nIiwiZmxleCIsIlRleHRJbnB1dCIsInByb3BzIiwiaWQiLCJ0eXBlIiwiZGlzcGxheSIsIndpZHRoIiwiYWN0aW9uVHlwZXMiLCJGRVRDSF9DT05UQUNUU19TVEFSVEVEIiwiRkVUQ0hfQ09OVEFDVFNfU1VDQ0VTUyIsIkZFVENIX0NPTlRBQ1RTX0ZBSUxFRCIsIkdFVF9MT0NBTF9DT05UQUNUUyIsIkZJTkRfQ09OVEFDVCIsImZldGNoQ29udGFjdHMiLCJkaXNwYXRjaCIsInVzZXJuYW1lIiwicmVzcG9uc2UiLCJmZXRjaCIsImNvbnRhY3RzIiwianNvbiIsImVycm9yIiwiZ2V0TG9jYWxDb250YWN0cyIsImZpbmRDb250YWN0IiwiZmlsdGVyIiwiaW5pdFN0YXRlIiwibG9hZGluZyIsImNvbnRhY3RzUmVkdWNlciIsInN0YXRlIiwiYWN0aW9uIiwiYyIsIm5leHRTdGF0ZSIsInVzZUNvbnRhY3RzIiwidXNlUmVkdWNlciIsInVzZUVmZmVjdCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzdG9yYWdlIiwiSlNPTiIsInBhcnNlIiwibGVuZ3RoIiwidXNlcnMiLCJGRVRDSF9VU0VSU19TVEFSVEVEIiwiRkVUQ0hfVVNFUlNfU1VDQ0VTUyIsIkZFVENIX1VTRVJTX0ZBSUxFRCIsImZldGNoVXNlcnMiLCJ1c2Vyc1JlZHVjZXIiLCJ1c2VVc2VycyIsIkNvbnRhY3RzIiwidXNlQ29udGFjdHNDb250ZXh0IiwiYXV0aFN0YXRlIiwidXNlQXV0aENvbnRleHQiLCJjb250YWN0c2ZpbHRlciIsInNldENvbnRhY3RzRmlsdGVyIiwidXNlU3RhdGUiLCJ1c2Vyc0ZpbHRlciIsInNldFVzZXJzRmlsdGVyIiwiaXRlbXMiLCJzZXRJdGVtcyIsImNvbnRhY3RTdGF0ZSIsInVzZXJTdGF0ZSIsImhhbmRsZVNlYXJjaCIsImUiLCJ2YWx1ZSIsInRhcmdldCIsImhhbmRsZUl0ZW1DbGljayIsInNlbGVjdGVkQ29udGFjdCIsImZpbmQiLCJpdGVtIiwic2VsZWN0Q29udGFjdCIsImNvbnRhY3QiLCJtYXAiXSwibWFwcGluZ3MiOiI7O0FBRUEsTUFBTUEsS0FBSyxHQUFHO0FBQ1pDLEVB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
