import { p, l, m, u as useAuthContext, d as useRouteContext, B as useAppContext, h, C as Route, c as M, O } from './index-bda11ef8.js';
import { u as useWebSocketContext, a as useContactsContext } from './index-4483639e.js';

const status = {
  INVITEE: 'INVITEE',
  INVITER: 'INVITER',
  CHAT: 'CHAT',
  DECLINED: 'DECLINED',
  DECLINER: 'DECLINER',
  BLOCKED: 'BLOCKED',
  BLOCKER: 'BLOCKER'
};

const actionTypes = {
  FETCH_CONTACTS_STARTED: 'FETCH_CONTACTS_STARTED',
  FETCH_CONTACTS_SUCCESS: 'FETCH_CONTACTS_SUCCESS',
  FETCH_CONTACTS_FAILED: 'FETCH_CONTACTS_FAILED',
  GET_LOCAL_CONTACTS: 'GET_LOCAL_CONTACTS',
  FIND_CONTACT: 'FIND_CONTACT',
  CONTACT_IS_ONLINE: 'CONTACT_IS_ONLINE',
  CONTACT_IS_OFFLINE: 'CONTACT_IS_OFFLINE',
  CONTACT_STATE_CHANGED: 'CONTACT_STATE_CHANGED'
};

async function fetchContacts({
  dispatch,
  username
}) {
  try {
    dispatch({
      type: actionTypes.FETCH_CONTACTS_STARTED
    });
    const response = await fetch(`/contacts/find?username=${username}`);
    const {
      contacts
    } = await response.json();
    dispatch({
      type: actionTypes.FETCH_CONTACTS_SUCCESS,
      contacts
    });
  } catch (error) {
    dispatch({
      type: actionTypes.FETCH_CONTACTS_FAILED,
      error
    });
  }
}

function getLocalContacts({
  dispatch,
  contacts
}) {
  dispatch({
    type: actionTypes.GET_LOCAL_CONTACTS,
    contacts
  });
}

function findContact({
  dispatch,
  filter
}) {
  dispatch({
    type: actionTypes.FIND_CONTACT,
    filter
  });
}

const initState = {
  loading: false,
  error: null,
  contacts: []
};

function contactsReducer(state, action) {
  switch (action.type) {
    case actionTypes.FETCH_CONTACTS_STARTED:
      return { ...state,
        loading: true
      };

    case actionTypes.FETCH_CONTACTS_SUCCESS:
      return { ...state,
        loading: false,
        contacts: action.contacts
      };

    case actionTypes.FETCH_CONTACTS_FAILED:
      return { ...state,
        loading: false,
        error: action.error
      };

    case actionTypes.FIND_CONTACT:
      return { ...state,
        contacts: state.contacts.filter(c => c.username === action.filter)
      };

    case actionTypes.GET_LOCAL_CONTACTS:
      const nextState = { ...state,
        contacts: action.contacts
      };
      return nextState;

    case actionTypes.CONTACT_IS_ONLINE:
      return { ...state,
        contacts: state.contacts.map(c => {
          if (c.username === action.username) {
            return { ...c,
              online: true
            };
          }
        })
      };

    case actionTypes.CONTACT_IS_OFFLINE:
      return { ...state,
        contacts: state.contacts.map(c => {
          if (c.username === action.username) {
            return { ...c,
              online: false
            };
          }
        })
      };

    case actionTypes.CONTACT_STATE_CHANGED:
      return { ...state,
        contacts: state.contacts.map(c => {
          if (c.username === action.username) {
            return { ...c,
              state: action.state
            };
          }
        })
      };

    default:
      return state;
  }
}

function useContacts({
  filter,
  username
}) {
  const [state, dispatch] = p(contactsReducer, initState);
  l(() => {
    if (localStorage.getItem(`contacts-${username}`)) {
      const storage = JSON.parse(localStorage.getItem(`contacts-${username}`));
      getLocalContacts({
        dispatch,
        contacts: storage.contacts
      });
    } else {
      fetchContacts({
        dispatch,
        username
      });
    }
  }, []);
  l(() => {
    if (filter && filter.length > 3) {
      findContact({
        dispatch,
        filter
      });
    }
  }, [filter]);
  return {
    state
  };
}

function useWebSocket({
  username,
  target,
  dispatch
}) {
  const [message, setMessage] = m('');
  const {
    socket
  } = useWebSocketContext();

  function onInvite() {
    dispatch({
      type: actionTypes.CONTACT_STATE_CHANGED,
      username: target,
      state: status.INVITEE
    });
    let msg = {
      message,
      type: status.INVITEE,
      username,
      target
    };
    socket.send(JSON.stringify(msg));
  }

  function onAccept() {
    dispatch({
      type: actionTypes.CONTACT_STATE_CHANGED,
      username: target,
      state: status.CHAT
    });
    let msg = {
      message,
      type: status.CHAT,
      username,
      target
    };
    socket.send({
      message: JSON.stringify(msg)
    });
  }

  function onDecline() {
    dispatch({
      type: actionTypes.CONTACT_STATE_CHANGED,
      username: target,
      state: status.DECLINED
    });
    let msg = {
      type: status.DECLINED,
      username,
      target
    };
    socket.send({
      message: JSON.stringify(msg)
    });
  }

  function onBlock() {
    dispatch({
      type: actionTypes.CONTACT_STATE_CHANGED,
      username: target,
      state: status.BLOCKED
    });
    let msg = {
      type: status.BLOCKED,
      username,
      target
    };
    socket.send({
      message: JSON.stringify(msg)
    });
  }

  function onUnblock() {
    dispatch({
      type: actionTypes.CONTACT_STATE_CHANGED,
      username: target,
      state: status.CHAT
    });
    let msg = {
      type: status.CHAT,
      username,
      target
    };
    socket.send({
      message: JSON.stringify(msg)
    });
  }

  function onChange(e) {
    const {
      value
    } = e.target;
    setMessage(value);
  }

  function sendMessage() {
    try {
      let msg = {
        type: contactStatus.MESSAGE,
        username,
        target,
        message,
        path: 'chat'
      };
      let strMgs = JSON.stringify(msg);
      debugger;
      socket.send(JSON.stringify(strMgs));
    } catch (error) {
      debugger;
    }
  }

  return {
    onInvite,
    onAccept,
    onDecline,
    onBlock,
    onUnblock,
    onChange,
    message,
    sendMessage
  };
}

const Contacts = O(() => import('./Contacts-f3583057.js'));
const Block = O(() => import('./Block-a8522024.js'));
const Blocked = O(() => import('./Blocked-f5e76a1f.js'));
const Chat = O(() => import('./Chat-f3ba9c3e.js'));
const Configure = O(() => import('./Configure-1a9778be.js'));
const Invite = O(() => import('./Invite-03b50f7d.js'));
const Invitee = O(() => import('./Invitee-1e9f5e98.js'));
const Inviter = O(() => import('./Inviter-25a1bd00.js'));
function PeerToPeerMobile() {
  const authContext = useAuthContext();
  const [state, dispatch] = useContactsContext();
  const [route, setRoute] = useRouteContext();
  const {
    contact
  } = state;
  const {
    username
  } = authContext.state;
  const {
    accept_inv_img
  } = useAppContext();
  const {
    onInvite,
    onAccept,
    onBlock,
    onUnblock,
    onDecline,
    onChange,
    message,
    sendMessage
  } = useWebSocket({
    username,
    target: contact && contact.username,
    dispatch
  });
  l(() => {
    if (contact) {
      setRoute(`/${contact.state}`);
    }
  }, [contact]);

  function onSetting() {
    setRoute('/cofigure');
  }

  return h("div", {
    style: {
      height: '85vh'
    }
  }, h(Route, {
    path: "/contacts"
  }, h(M, {
    fallback: h("div", null, "loading...")
  }, h(Contacts, null))), h(Route, {
    path: "/block"
  }, h(M, {
    fallback: h("div", null, "loading...")
  }, h(Block, {
    contact: contact,
    onBlock: onBlock,
    setRoute: setRoute
  }))), h(Route, {
    path: "/blocked"
  }, h(M, {
    fallback: h("div", null, "loading...")
  }, h(Blocked, {
    contact: contact,
    onUnblock: onUnblock,
    setRoute: setRoute
  }))), h(Route, {
    path: "/accepted"
  }, h(M, {
    fallback: h("div", null, "loading...")
  }, h(Chat, {
    contact: contact,
    onSetting: onSetting,
    onChange: onChange,
    message: message,
    sendMessage: sendMessage
  }))), h(Route, {
    path: "/cofigure"
  }, h(M, {
    fallback: h("div", null, "loading...")
  }, h(Configure, {
    contact: contact,
    setRoute: setRoute
  }))), h(Route, {
    path: "/invite"
  }, h(M, {
    fallback: h("div", null, "loading...")
  }, h(Invite, {
    contact: contact,
    onInvite: onInvite,
    setRoute: setRoute,
    onChange: onChange,
    message: message
  }))), h(Route, {
    path: "/invitee"
  }, h(M, {
    fallback: h("div", null, "loading...")
  }, h(Invitee, {
    contact: contact
  }))), h(Route, {
    path: "/inviter"
  }, h(M, {
    fallback: h("div", null, "loading...")
  }, h(Inviter, {
    accept_inv_img: accept_inv_img,
    contact: contact,
    onAccept: onAccept,
    onDecline: onDecline,
    setRoute: setRoute
  }))));
}

var mobile = /*#__PURE__*/Object.freeze({
  __proto__: null,
  'default': PeerToPeerMobile
});

export { mobile as m, useContacts as u };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9iaWxlLWE0ZGE2NjIzLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9jbGllbnQvaGFuZ291dHMvY29udGFjdHMvc3RhdHVzLmpzIiwiLi4vLi4vLi4vY2xpZW50L2hhbmdvdXRzL2NvbnRhY3RzL3VzZUNvbnRhY3RzLmpzIiwiLi4vLi4vLi4vY2xpZW50L2hhbmdvdXRzL3VzZVdlYlNvY2tldC5qcyIsIi4uLy4uLy4uL2NsaWVudC9oYW5nb3V0cy9tb2JpbGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHN0YXR1cyA9IHtcclxuICBJTlZJVEVFOiAnSU5WSVRFRScsXHJcbiAgSU5WSVRFUjogJ0lOVklURVInLFxyXG4gIENIQVQ6ICdDSEFUJyxcclxuICBERUNMSU5FRDogJ0RFQ0xJTkVEJyxcclxuICBERUNMSU5FUjogJ0RFQ0xJTkVSJyxcclxuICBCTE9DS0VEOiAnQkxPQ0tFRCcsXHJcbiAgQkxPQ0tFUjogJ0JMT0NLRVInLFxyXG59O1xyXG4iLCJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZHVjZXIgfSBmcm9tICdwcmVhY3QvaG9va3MnO1xyXG5leHBvcnQgY29uc3QgYWN0aW9uVHlwZXMgPSB7XHJcbiAgRkVUQ0hfQ09OVEFDVFNfU1RBUlRFRDogJ0ZFVENIX0NPTlRBQ1RTX1NUQVJURUQnLFxyXG4gIEZFVENIX0NPTlRBQ1RTX1NVQ0NFU1M6ICdGRVRDSF9DT05UQUNUU19TVUNDRVNTJyxcclxuICBGRVRDSF9DT05UQUNUU19GQUlMRUQ6ICdGRVRDSF9DT05UQUNUU19GQUlMRUQnLFxyXG4gIEdFVF9MT0NBTF9DT05UQUNUUzogJ0dFVF9MT0NBTF9DT05UQUNUUycsXHJcbiAgRklORF9DT05UQUNUOiAnRklORF9DT05UQUNUJyxcclxuICBDT05UQUNUX0lTX09OTElORTogJ0NPTlRBQ1RfSVNfT05MSU5FJyxcclxuICBDT05UQUNUX0lTX09GRkxJTkU6ICdDT05UQUNUX0lTX09GRkxJTkUnLFxyXG4gIENPTlRBQ1RfU1RBVEVfQ0hBTkdFRDogJ0NPTlRBQ1RfU1RBVEVfQ0hBTkdFRCcsXHJcbn07XHJcblxyXG5hc3luYyBmdW5jdGlvbiBmZXRjaENvbnRhY3RzKHsgZGlzcGF0Y2gsIHVzZXJuYW1lIH0pIHtcclxuICB0cnkge1xyXG4gICAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25UeXBlcy5GRVRDSF9DT05UQUNUU19TVEFSVEVEIH0pO1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2NvbnRhY3RzL2ZpbmQ/dXNlcm5hbWU9JHt1c2VybmFtZX1gKTtcclxuICAgIGNvbnN0IHsgY29udGFjdHMgfSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvblR5cGVzLkZFVENIX0NPTlRBQ1RTX1NVQ0NFU1MsIGNvbnRhY3RzIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvblR5cGVzLkZFVENIX0NPTlRBQ1RTX0ZBSUxFRCwgZXJyb3IgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRMb2NhbENvbnRhY3RzKHsgZGlzcGF0Y2gsIGNvbnRhY3RzIH0pIHtcclxuICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvblR5cGVzLkdFVF9MT0NBTF9DT05UQUNUUywgY29udGFjdHMgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbmRDb250YWN0KHsgZGlzcGF0Y2gsIGZpbHRlciB9KSB7XHJcbiAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25UeXBlcy5GSU5EX0NPTlRBQ1QsIGZpbHRlciB9KTtcclxufVxyXG5cclxuY29uc3QgaW5pdFN0YXRlID0ge1xyXG4gIGxvYWRpbmc6IGZhbHNlLFxyXG4gIGVycm9yOiBudWxsLFxyXG4gIGNvbnRhY3RzOiBbXSxcclxufTtcclxuXHJcbmZ1bmN0aW9uIGNvbnRhY3RzUmVkdWNlcihzdGF0ZSwgYWN0aW9uKSB7XHJcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xyXG4gICAgY2FzZSBhY3Rpb25UeXBlcy5GRVRDSF9DT05UQUNUU19TVEFSVEVEOlxyXG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgbG9hZGluZzogdHJ1ZSB9O1xyXG4gICAgY2FzZSBhY3Rpb25UeXBlcy5GRVRDSF9DT05UQUNUU19TVUNDRVNTOlxyXG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgbG9hZGluZzogZmFsc2UsIGNvbnRhY3RzOiBhY3Rpb24uY29udGFjdHMgfTtcclxuICAgIGNhc2UgYWN0aW9uVHlwZXMuRkVUQ0hfQ09OVEFDVFNfRkFJTEVEOlxyXG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgbG9hZGluZzogZmFsc2UsIGVycm9yOiBhY3Rpb24uZXJyb3IgfTtcclxuICAgIGNhc2UgYWN0aW9uVHlwZXMuRklORF9DT05UQUNUOlxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgIGNvbnRhY3RzOiBzdGF0ZS5jb250YWN0cy5maWx0ZXIoKGMpID0+IGMudXNlcm5hbWUgPT09IGFjdGlvbi5maWx0ZXIpLFxyXG4gICAgICB9O1xyXG4gICAgY2FzZSBhY3Rpb25UeXBlcy5HRVRfTE9DQUxfQ09OVEFDVFM6XHJcbiAgICAgIGNvbnN0IG5leHRTdGF0ZSA9IHsgLi4uc3RhdGUsIGNvbnRhY3RzOiBhY3Rpb24uY29udGFjdHMgfTtcclxuXHJcbiAgICAgIHJldHVybiBuZXh0U3RhdGU7XHJcbiAgICBjYXNlIGFjdGlvblR5cGVzLkNPTlRBQ1RfSVNfT05MSU5FOlxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgIGNvbnRhY3RzOiBzdGF0ZS5jb250YWN0cy5tYXAoKGMpID0+IHtcclxuICAgICAgICAgIGlmIChjLnVzZXJuYW1lID09PSBhY3Rpb24udXNlcm5hbWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgLi4uYywgb25saW5lOiB0cnVlIH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSksXHJcbiAgICAgIH07XHJcbiAgICBjYXNlIGFjdGlvblR5cGVzLkNPTlRBQ1RfSVNfT0ZGTElORTpcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICAuLi5zdGF0ZSxcclxuICAgICAgICBjb250YWN0czogc3RhdGUuY29udGFjdHMubWFwKChjKSA9PiB7XHJcbiAgICAgICAgICBpZiAoYy51c2VybmFtZSA9PT0gYWN0aW9uLnVzZXJuYW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmMsIG9ubGluZTogZmFsc2UgfTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KSxcclxuICAgICAgfTtcclxuICAgIGNhc2UgYWN0aW9uVHlwZXMuQ09OVEFDVF9TVEFURV9DSEFOR0VEOlxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgIGNvbnRhY3RzOiBzdGF0ZS5jb250YWN0cy5tYXAoKGMpID0+IHtcclxuICAgICAgICAgIGlmIChjLnVzZXJuYW1lID09PSBhY3Rpb24udXNlcm5hbWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgLi4uYywgc3RhdGU6IGFjdGlvbi5zdGF0ZSB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pLFxyXG4gICAgICB9O1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVzZUNvbnRhY3RzKHsgZmlsdGVyLCB1c2VybmFtZSB9KSB7XHJcbiAgY29uc3QgW3N0YXRlLCBkaXNwYXRjaF0gPSB1c2VSZWR1Y2VyKGNvbnRhY3RzUmVkdWNlciwgaW5pdFN0YXRlKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShgY29udGFjdHMtJHt1c2VybmFtZX1gKSkge1xyXG4gICAgICBjb25zdCBzdG9yYWdlID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShgY29udGFjdHMtJHt1c2VybmFtZX1gKSk7XHJcbiAgICAgIGdldExvY2FsQ29udGFjdHMoeyBkaXNwYXRjaCwgY29udGFjdHM6IHN0b3JhZ2UuY29udGFjdHMgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmZXRjaENvbnRhY3RzKHsgZGlzcGF0Y2gsIHVzZXJuYW1lIH0pO1xyXG4gICAgfVxyXG4gIH0sIFtdKTtcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGZpbHRlciAmJiBmaWx0ZXIubGVuZ3RoID4gMykge1xyXG4gICAgICBmaW5kQ29udGFjdCh7IGRpc3BhdGNoLCBmaWx0ZXIgfSk7XHJcbiAgICB9XHJcbiAgfSwgW2ZpbHRlcl0pO1xyXG5cclxuICByZXR1cm4geyBzdGF0ZSB9O1xyXG59XHJcbiIsImltcG9ydCB7IHVzZVdlYlNvY2tldENvbnRleHQgfSBmcm9tICcuL1dlYlNvY2tldFByb3ZpZGVyJztcclxuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdwcmVhY3QvaG9va3MnO1xyXG5pbXBvcnQgeyBzdGF0dXMgfSBmcm9tICcuL2NvbnRhY3RzL3N0YXR1cyc7XHJcbmltcG9ydCB7IGFjdGlvblR5cGVzIH0gZnJvbSAnLi9jb250YWN0cy91c2VDb250YWN0cyc7XHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VXZWJTb2NrZXQoeyB1c2VybmFtZSwgdGFyZ2V0LCBkaXNwYXRjaCB9KSB7XHJcbiAgY29uc3QgW21lc3NhZ2UsIHNldE1lc3NhZ2VdID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IHsgc29ja2V0IH0gPSB1c2VXZWJTb2NrZXRDb250ZXh0KCk7XHJcbiAgZnVuY3Rpb24gb25JbnZpdGUoKSB7XHJcbiAgICBkaXNwYXRjaCh7XHJcbiAgICAgIHR5cGU6IGFjdGlvblR5cGVzLkNPTlRBQ1RfU1RBVEVfQ0hBTkdFRCxcclxuICAgICAgdXNlcm5hbWU6IHRhcmdldCxcclxuICAgICAgc3RhdGU6IHN0YXR1cy5JTlZJVEVFLFxyXG4gICAgfSk7XHJcbiAgICBsZXQgbXNnID0ge1xyXG4gICAgICBtZXNzYWdlLFxyXG4gICAgICB0eXBlOiBzdGF0dXMuSU5WSVRFRSxcclxuICAgICAgdXNlcm5hbWUsXHJcbiAgICAgIHRhcmdldCxcclxuICAgIH07XHJcblxyXG4gICAgc29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkobXNnKSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBvbkFjY2VwdCgpIHtcclxuICAgIGRpc3BhdGNoKHtcclxuICAgICAgdHlwZTogYWN0aW9uVHlwZXMuQ09OVEFDVF9TVEFURV9DSEFOR0VELFxyXG4gICAgICB1c2VybmFtZTogdGFyZ2V0LFxyXG4gICAgICBzdGF0ZTogc3RhdHVzLkNIQVQsXHJcbiAgICB9KTtcclxuICAgIGxldCBtc2cgPSB7XHJcbiAgICAgIG1lc3NhZ2UsXHJcbiAgICAgIHR5cGU6IHN0YXR1cy5DSEFULFxyXG4gICAgICB1c2VybmFtZSxcclxuICAgICAgdGFyZ2V0LFxyXG4gICAgfTtcclxuICAgIHNvY2tldC5zZW5kKHsgbWVzc2FnZTogSlNPTi5zdHJpbmdpZnkobXNnKSB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIG9uRGVjbGluZSgpIHtcclxuICAgIGRpc3BhdGNoKHtcclxuICAgICAgdHlwZTogYWN0aW9uVHlwZXMuQ09OVEFDVF9TVEFURV9DSEFOR0VELFxyXG4gICAgICB1c2VybmFtZTogdGFyZ2V0LFxyXG4gICAgICBzdGF0ZTogc3RhdHVzLkRFQ0xJTkVELFxyXG4gICAgfSk7XHJcbiAgICBsZXQgbXNnID0geyB0eXBlOiBzdGF0dXMuREVDTElORUQsIHVzZXJuYW1lLCB0YXJnZXQgfTtcclxuICAgIHNvY2tldC5zZW5kKHsgbWVzc2FnZTogSlNPTi5zdHJpbmdpZnkobXNnKSB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIG9uQmxvY2soKSB7XHJcbiAgICBkaXNwYXRjaCh7XHJcbiAgICAgIHR5cGU6IGFjdGlvblR5cGVzLkNPTlRBQ1RfU1RBVEVfQ0hBTkdFRCxcclxuICAgICAgdXNlcm5hbWU6IHRhcmdldCxcclxuICAgICAgc3RhdGU6IHN0YXR1cy5CTE9DS0VELFxyXG4gICAgfSk7XHJcbiAgICBsZXQgbXNnID0geyB0eXBlOiBzdGF0dXMuQkxPQ0tFRCwgdXNlcm5hbWUsIHRhcmdldCB9O1xyXG4gICAgc29ja2V0LnNlbmQoeyBtZXNzYWdlOiBKU09OLnN0cmluZ2lmeShtc2cpIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gb25VbmJsb2NrKCkge1xyXG4gICAgZGlzcGF0Y2goe1xyXG4gICAgICB0eXBlOiBhY3Rpb25UeXBlcy5DT05UQUNUX1NUQVRFX0NIQU5HRUQsXHJcbiAgICAgIHVzZXJuYW1lOiB0YXJnZXQsXHJcbiAgICAgIHN0YXRlOiBzdGF0dXMuQ0hBVCxcclxuICAgIH0pO1xyXG4gICAgbGV0IG1zZyA9IHsgdHlwZTogc3RhdHVzLkNIQVQsIHVzZXJuYW1lLCB0YXJnZXQgfTtcclxuICAgIHNvY2tldC5zZW5kKHsgbWVzc2FnZTogSlNPTi5zdHJpbmdpZnkobXNnKSB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcclxuICAgIGNvbnN0IHsgdmFsdWUgfSA9IGUudGFyZ2V0O1xyXG4gICAgc2V0TWVzc2FnZSh2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBzZW5kTWVzc2FnZSgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCBtc2cgPSB7XHJcbiAgICAgICAgdHlwZTogY29udGFjdFN0YXR1cy5NRVNTQUdFLFxyXG4gICAgICAgIHVzZXJuYW1lLFxyXG4gICAgICAgIHRhcmdldCxcclxuICAgICAgICBtZXNzYWdlLFxyXG4gICAgICAgIHBhdGg6ICdjaGF0JyxcclxuICAgICAgfTtcclxuICAgICAgbGV0IHN0ck1ncyA9IEpTT04uc3RyaW5naWZ5KG1zZyk7XHJcbiAgICAgIGRlYnVnZ2VyO1xyXG4gICAgICBzb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeShzdHJNZ3MpKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnN0IGVyciA9IGVycm9yO1xyXG4gICAgICBkZWJ1Z2dlcjtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHtcclxuICAgIG9uSW52aXRlLFxyXG4gICAgb25BY2NlcHQsXHJcbiAgICBvbkRlY2xpbmUsXHJcbiAgICBvbkJsb2NrLFxyXG4gICAgb25VbmJsb2NrLFxyXG4gICAgb25DaGFuZ2UsXHJcbiAgICBtZXNzYWdlLFxyXG4gICAgc2VuZE1lc3NhZ2UsXHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgeyBoIH0gZnJvbSAncHJlYWN0JztcclxuaW1wb3J0IHsgU3VzcGVuc2UsIGxhenkgfSBmcm9tICdwcmVhY3QvY29tcGF0JztcclxuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncHJlYWN0L2hvb2tzJztcclxuaW1wb3J0IHsgUm91dGUsIHVzZVJvdXRlQ29udGV4dCB9IGZyb20gJy4uL3JvdXRlL3JvdXRlcic7XHJcbmltcG9ydCB7IHVzZUNvbnRhY3RzQ29udGV4dCB9IGZyb20gJy4vY29udGFjdHMvY29udGFjdC1jb250ZXh0JztcclxuaW1wb3J0IHsgdXNlQXBwQ29udGV4dCB9IGZyb20gJy4uL2FwcC1jb250ZXh0L2FwcC1jb250ZXh0JztcclxuaW1wb3J0IHsgdXNlQXV0aENvbnRleHQgfSBmcm9tICcuLi9hdXRoL2F1dGgtY29udGV4dCc7XHJcbmltcG9ydCB7IHVzZVdlYlNvY2tldCB9IGZyb20gJy4vdXNlV2ViU29ja2V0JztcclxuY29uc3QgQ29udGFjdHMgPSBsYXp5KCgpID0+IGltcG9ydCgnLi9jb250YWN0cy9Db250YWN0cycpKTtcclxuY29uc3QgQmxvY2sgPSBsYXp5KCgpID0+IGltcG9ydCgnLi92aWV3cy9CbG9jaycpKTtcclxuY29uc3QgQmxvY2tlZCA9IGxhenkoKCkgPT4gaW1wb3J0KCcuL3ZpZXdzL0Jsb2NrZWQnKSk7XHJcbmNvbnN0IENoYXQgPSBsYXp5KCgpID0+IGltcG9ydCgnLi92aWV3cy9DaGF0JykpO1xyXG5jb25zdCBDb25maWd1cmUgPSBsYXp5KCgpID0+IGltcG9ydCgnLi92aWV3cy9Db25maWd1cmUnKSk7XHJcbmNvbnN0IEludml0ZSA9IGxhenkoKCkgPT4gaW1wb3J0KCcuL3ZpZXdzL0ludml0ZScpKTtcclxuY29uc3QgSW52aXRlZSA9IGxhenkoKCkgPT4gaW1wb3J0KCcuL3ZpZXdzL0ludml0ZWUnKSk7XHJcbmNvbnN0IEludml0ZXIgPSBsYXp5KCgpID0+IGltcG9ydCgnLi92aWV3cy9JbnZpdGVyJykpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUGVlclRvUGVlck1vYmlsZSgpIHtcclxuICBjb25zdCBhdXRoQ29udGV4dCA9IHVzZUF1dGhDb250ZXh0KCk7XHJcbiAgY29uc3QgW3N0YXRlLCBkaXNwYXRjaF0gPSB1c2VDb250YWN0c0NvbnRleHQoKTtcclxuICBjb25zdCBbcm91dGUsIHNldFJvdXRlXSA9IHVzZVJvdXRlQ29udGV4dCgpO1xyXG4gIGNvbnN0IHsgY29udGFjdCB9ID0gc3RhdGU7XHJcbiAgY29uc3QgeyB1c2VybmFtZSB9ID0gYXV0aENvbnRleHQuc3RhdGU7XHJcbiAgY29uc3QgeyBhY2NlcHRfaW52X2ltZyB9ID0gdXNlQXBwQ29udGV4dCgpO1xyXG4gIGNvbnN0IHtcclxuICAgIG9uSW52aXRlLFxyXG4gICAgb25BY2NlcHQsXHJcbiAgICBvbkJsb2NrLFxyXG4gICAgb25VbmJsb2NrLFxyXG4gICAgb25EZWNsaW5lLFxyXG4gICAgb25DaGFuZ2UsXHJcbiAgICBtZXNzYWdlLFxyXG4gICAgc2VuZE1lc3NhZ2UsXHJcbiAgfSA9IHVzZVdlYlNvY2tldCh7IHVzZXJuYW1lLCB0YXJnZXQ6IGNvbnRhY3QgJiYgY29udGFjdC51c2VybmFtZSwgZGlzcGF0Y2ggfSk7XHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChjb250YWN0KSB7XHJcbiAgICAgIHNldFJvdXRlKGAvJHtjb250YWN0LnN0YXRlfWApO1xyXG4gICAgfVxyXG4gIH0sIFtjb250YWN0XSk7XHJcblxyXG4gIGZ1bmN0aW9uIG9uU2V0dGluZygpIHtcclxuICAgIHNldFJvdXRlKCcvY29maWd1cmUnKTtcclxuICB9XHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgc3R5bGU9e3sgaGVpZ2h0OiAnODV2aCcgfX0+XHJcbiAgICAgIDxSb3V0ZSBwYXRoPScvY29udGFjdHMnPlxyXG4gICAgICAgIDxTdXNwZW5zZSBmYWxsYmFjaz17PGRpdj5sb2FkaW5nLi4uPC9kaXY+fT5cclxuICAgICAgICAgIDxDb250YWN0cyAvPlxyXG4gICAgICAgIDwvU3VzcGVuc2U+XHJcbiAgICAgIDwvUm91dGU+XHJcblxyXG4gICAgICA8Um91dGUgcGF0aD0nL2Jsb2NrJz5cclxuICAgICAgICA8U3VzcGVuc2UgZmFsbGJhY2s9ezxkaXY+bG9hZGluZy4uLjwvZGl2Pn0+XHJcbiAgICAgICAgICA8QmxvY2sgY29udGFjdD17Y29udGFjdH0gb25CbG9jaz17b25CbG9ja30gc2V0Um91dGU9e3NldFJvdXRlfSAvPlxyXG4gICAgICAgIDwvU3VzcGVuc2U+XHJcbiAgICAgIDwvUm91dGU+XHJcbiAgICAgIDxSb3V0ZSBwYXRoPScvYmxvY2tlZCc+XHJcbiAgICAgICAgPFN1c3BlbnNlIGZhbGxiYWNrPXs8ZGl2PmxvYWRpbmcuLi48L2Rpdj59PlxyXG4gICAgICAgICAgPEJsb2NrZWRcclxuICAgICAgICAgICAgY29udGFjdD17Y29udGFjdH1cclxuICAgICAgICAgICAgb25VbmJsb2NrPXtvblVuYmxvY2t9XHJcbiAgICAgICAgICAgIHNldFJvdXRlPXtzZXRSb3V0ZX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgPC9TdXNwZW5zZT5cclxuICAgICAgPC9Sb3V0ZT5cclxuICAgICAgPFJvdXRlIHBhdGg9Jy9hY2NlcHRlZCc+XHJcbiAgICAgICAgPFN1c3BlbnNlIGZhbGxiYWNrPXs8ZGl2PmxvYWRpbmcuLi48L2Rpdj59PlxyXG4gICAgICAgICAgPENoYXRcclxuICAgICAgICAgICAgY29udGFjdD17Y29udGFjdH1cclxuICAgICAgICAgICAgb25TZXR0aW5nPXtvblNldHRpbmd9XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cclxuICAgICAgICAgICAgbWVzc2FnZT17bWVzc2FnZX1cclxuICAgICAgICAgICAgc2VuZE1lc3NhZ2U9e3NlbmRNZXNzYWdlfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L1N1c3BlbnNlPlxyXG4gICAgICA8L1JvdXRlPlxyXG4gICAgICA8Um91dGUgcGF0aD0nL2NvZmlndXJlJz5cclxuICAgICAgICA8U3VzcGVuc2UgZmFsbGJhY2s9ezxkaXY+bG9hZGluZy4uLjwvZGl2Pn0+XHJcbiAgICAgICAgICA8Q29uZmlndXJlIGNvbnRhY3Q9e2NvbnRhY3R9IHNldFJvdXRlPXtzZXRSb3V0ZX0gLz5cclxuICAgICAgICA8L1N1c3BlbnNlPlxyXG4gICAgICA8L1JvdXRlPlxyXG4gICAgICA8Um91dGUgcGF0aD0nL2ludml0ZSc+XHJcbiAgICAgICAgPFN1c3BlbnNlIGZhbGxiYWNrPXs8ZGl2PmxvYWRpbmcuLi48L2Rpdj59PlxyXG4gICAgICAgICAgPEludml0ZVxyXG4gICAgICAgICAgICBjb250YWN0PXtjb250YWN0fVxyXG4gICAgICAgICAgICBvbkludml0ZT17b25JbnZpdGV9XHJcbiAgICAgICAgICAgIHNldFJvdXRlPXtzZXRSb3V0ZX1cclxuICAgICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlfVxyXG4gICAgICAgICAgICBtZXNzYWdlPXttZXNzYWdlfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L1N1c3BlbnNlPlxyXG4gICAgICA8L1JvdXRlPlxyXG4gICAgICA8Um91dGUgcGF0aD0nL2ludml0ZWUnPlxyXG4gICAgICAgIDxTdXNwZW5zZSBmYWxsYmFjaz17PGRpdj5sb2FkaW5nLi4uPC9kaXY+fT5cclxuICAgICAgICAgIDxJbnZpdGVlIGNvbnRhY3Q9e2NvbnRhY3R9IC8+XHJcbiAgICAgICAgPC9TdXNwZW5zZT5cclxuICAgICAgPC9Sb3V0ZT5cclxuICAgICAgPFJvdXRlIHBhdGg9Jy9pbnZpdGVyJz5cclxuICAgICAgICA8U3VzcGVuc2UgZmFsbGJhY2s9ezxkaXY+bG9hZGluZy4uLjwvZGl2Pn0+XHJcbiAgICAgICAgICA8SW52aXRlclxyXG4gICAgICAgICAgICBhY2NlcHRfaW52X2ltZz17YWNjZXB0X2ludl9pbWd9XHJcbiAgICAgICAgICAgIGNvbnRhY3Q9e2NvbnRhY3R9XHJcbiAgICAgICAgICAgIG9uQWNjZXB0PXtvbkFjY2VwdH1cclxuICAgICAgICAgICAgb25EZWNsaW5lPXtvbkRlY2xpbmV9XHJcbiAgICAgICAgICAgIHNldFJvdXRlPXtzZXRSb3V0ZX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgPC9TdXNwZW5zZT5cclxuICAgICAgPC9Sb3V0ZT5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuIl0sIm5hbWVzIjpbInN0YXR1cyIsIklOVklURUUiLCJJTlZJVEVSIiwiQ0hBVCIsIkRFQ0xJTkVEIiwiREVDTElORVIiLCJCTE9DS0VEIiwiQkxPQ0tFUiIsImFjdGlvblR5cGVzIiwiRkVUQ0hfQ09OVEFDVFNfU1RBUlRFRCIsIkZFVENIX0NPTlRBQ1RTX1NVQ0NFU1MiLCJGRVRDSF9DT05UQUNUU19GQUlMRUQiLCJHRVRfTE9DQUxfQ09OVEFDVFMiLCJGSU5EX0NPTlRBQ1QiLCJDT05UQUNUX0lTX09OTElORSIsIkNPTlRBQ1RfSVNfT0ZGTElORSIsIkNPTlRBQ1RfU1RBVEVfQ0hBTkdFRCIsImZldGNoQ29udGFjdHMiLCJkaXNwYXRjaCIsInVzZXJuYW1lIiwidHlwZSIsInJlc3BvbnNlIiwiZmV0Y2giLCJjb250YWN0cyIsImpzb24iLCJlcnJvciIsImdldExvY2FsQ29udGFjdHMiLCJmaW5kQ29udGFjdCIsImZpbHRlciIsImluaXRTdGF0ZSIsImxvYWRpbmciLCJjb250YWN0c1JlZHVjZXIiLCJzdGF0ZSIsImFjdGlvbiIsImMiLCJuZXh0U3RhdGUiLCJtYXAiLCJvbmxpbmUiLCJ1c2VDb250YWN0cyIsInVzZVJlZHVjZXIiLCJ1c2VFZmZlY3QiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic3RvcmFnZSIsIkpTT04iLCJwYXJzZSIsImxlbmd0aCIsInVzZVdlYlNvY2tldCIsInRhcmdldCIsIm1lc3NhZ2UiLCJzZXRNZXNzYWdlIiwidXNlU3RhdGUiLCJzb2NrZXQiLCJ1c2VXZWJTb2NrZXRDb250ZXh0Iiwib25JbnZpdGUiLCJtc2ciLCJzZW5kIiwic3RyaW5naWZ5Iiwib25BY2NlcHQiLCJvbkRlY2xpbmUiLCJvbkJsb2NrIiwib25VbmJsb2NrIiwib25DaGFuZ2UiLCJlIiwidmFsdWUiLCJzZW5kTWVzc2FnZSIsImNvbnRhY3RTdGF0dXMiLCJNRVNTQUdFIiwicGF0aCIsInN0ck1ncyIsIkNvbnRhY3RzIiwibGF6eSIsIkJsb2NrIiwiQmxvY2tlZCIsIkNoYXQiLCJDb25maWd1cmUiLCJJbnZpdGUiLCJJbnZpdGVlIiwiSW52aXRlciIsIlBlZXJUb1BlZXJNb2JpbGUiLCJhdXRoQ29udGV4dCIsInVzZUF1dGhDb250ZXh0IiwidXNlQ29udGFjdHNDb250ZXh0Iiwicm91dGUiLCJzZXRSb3V0ZSIsInVzZVJvdXRlQ29udGV4dCIsImNvbnRhY3QiLCJhY2NlcHRfaW52X2ltZyIsInVzZUFwcENvbnRleHQiLCJvblNldHRpbmciLCJoZWlnaHQiLCJTdXNwZW5zZSJdLCJtYXBwaW5ncyI6Ijs7O0FBQU8sTUFBTUEsTUFBTSxHQUFHO0FBQ3BCQyxFQUFBQSxPQUFPLEVBQUUsU0FEVztBQUVwQkMsRUFBQUEsT0FBTyxFQUFFLFNBRlc7QUFHcEJDLEVBQUFBLElBQUksRUFBRSxNQUhjO0FBSXBCQyxFQUFBQSxRQUFRLEVBQUUsVUFKVTtBQUtwQkMsRUFBQUEsUUFBUSxFQUFFLFVBTFU7QUFNcEJDLEVBQUFBLE9BQU8sRUFBRSxTQU5XO0FBT3BCQyxFQUFBQSxPQUFPLEVBQUU7QUFQVyxDQUFmOztBQ0NBLE1BQU1DLFdBQVcsR0FBRztBQUN6QkMsRUFBQUEsc0JBQXNCLEVBQUUsd0JBREM7QUFFekJDLEVBQUFBLHNCQUFzQixF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
