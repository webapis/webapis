import { v, p, h } from './index-e96aaf50.js';

function Chat() {
  const [socket, setSocket] = v(null);
  p(() => {
    setSocket(new WebSocket('ws://localhost:3000/chat'));
  }, []);
  p(() => {
    if (socket) {
      socket.onopen = () => {
        console.log('connection open');
      };

      socket.onmessage = data => {
        console.log('message', data);
      };
    }
  }, [socket]);

  function handleConnection() {
    debugger;
    socket.send('hello');
  }

  return h("div", null, h("button", {
    onClick: handleConnection
  }, "send"), "Chat View");
} //

export default Chat;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2hhdC0yZWZjNjcxMy5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vY2xpZW50L3dlYmNvbS1hcHAvQ2hhdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBoIH0gZnJvbSAncHJlYWN0JztcclxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3ByZWFjdC9ob29rcyc7XHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENoYXQoKSB7XHJcbiAgY29uc3QgW3NvY2tldCwgc2V0U29ja2V0XSA9IHVzZVN0YXRlKG51bGwpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgc2V0U29ja2V0KG5ldyBXZWJTb2NrZXQoJ3dzOi8vbG9jYWxob3N0OjMwMDAvY2hhdCcpKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoc29ja2V0KSB7XHJcbiAgICAgIHNvY2tldC5vbm9wZW4gPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2Nvbm5lY3Rpb24gb3BlbicpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgc29ja2V0Lm9ubWVzc2FnZSA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ21lc3NhZ2UnLCBkYXRhKTtcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9LCBbc29ja2V0XSk7XHJcbiAgZnVuY3Rpb24gaGFuZGxlQ29ubmVjdGlvbigpIHtcclxuICAgIGRlYnVnZ2VyO1xyXG4gICAgc29ja2V0LnNlbmQoJ2hlbGxvJyk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdj5cclxuICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVDb25uZWN0aW9ufT5zZW5kPC9idXR0b24+XHJcbiAgICAgIENoYXQgVmlld1xyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG4vL1xyXG4iXSwibmFtZXMiOlsiQ2hhdCIsInNvY2tldCIsInNldFNvY2tldCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiV2ViU29ja2V0Iiwib25vcGVuIiwiY29uc29sZSIsImxvZyIsIm9ubWVzc2FnZSIsImRhdGEiLCJoYW5kbGVDb25uZWN0aW9uIiwic2VuZCJdLCJtYXBwaW5ncyI6Ijs7QUFFZSxTQUFTQSxJQUFULEdBQWdCO0FBQzdCLFFBQU0sQ0FBQ0MsTUFBRCxFQUFTQyxTQUFULElBQXNCQyxDQUFRLENBQUMsSUFBRCxDQUFwQztBQUVBQyxFQUFBQSxDQUFTLENBQUMsTUFBTTtBQUNkRixJQUFBQSxTQUFTLENBQUMsSUFBSUcsU0FBSixDQUFjLDBCQUFkLENBQUQsQ0FBVDtBQUNELEdBRlEsRUFFTixFQUZNLENBQVQ7QUFJQUQsRUFBQUEsQ0FBUyxDQUFDLE1BQU07QUFDZCxRQUFJSCxNQUFKLEVBQVk7QUFDVkEsTUFBQUEsTUFBTSxDQUFDSyxNQUFQLEdBQWdCLE1BQU07QUFDcEJDLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGlCQUFaO0FBQ0QsT0FGRDs7QUFJQVAsTUFBQUEsTUFBTSxDQUFDUSxTQUFQLEdBQW9CQyxJQUFELElBQVU7QUFDM0JILFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFNBQVosRUFBdUJFLElBQXZCO0FBQ0QsT0FGRDtBQUdEO0FBQ0YsR0FWUSxFQVVOLENBQUNULE1BQUQsQ0FWTSxDQUFUOztBQVdBLFdBQVNVLGdCQUFULEdBQTRCO0FBQzFCO0FBQ0FWLElBQUFBLE1BQU0sQ0FBQ1csSUFBUCxDQUFZLE9BQVo7QUFDRDs7QUFFRCxTQUNFLGVBQ0U7QUFBUSxJQUFBLE9BQU8sRUFBRUQ7QUFBakIsWUFERixjQURGO0FBTUQ7Ozs7In0=
