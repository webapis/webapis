import { m, p, v, u as useAuthContext, b as useRouteContext, z as useAppContext, h, U, A as Route, L } from './index-1a2f2f68.js';
import { u as useWebSocketContext, a as useContactsContext } from './index-0f16596a.js';

const status = {
  INVITEE: 'INVITEE',
  INVITER: 'INVITER',
  CHAT: 'CHAT',
  DECLINED: 'DECLINED',
  DECLINER: 'DECLINER',
  BLOCKED: 'BLOCKED',
  BLOCKER: 'BLOCKER'
};

const actionTypes = {
  FETCH_CONTACTS_STARTED: 'FETCH_CONTACTS_STARTED',
  FETCH_CONTACTS_SUCCESS: 'FETCH_CONTACTS_SUCCESS',
  FETCH_CONTACTS_FAILED: 'FETCH_CONTACTS_FAILED',
  GET_LOCAL_CONTACTS: 'GET_LOCAL_CONTACTS',
  FIND_CONTACT: 'FIND_CONTACT',
  CONTACT_IS_ONLINE: 'CONTACT_IS_ONLINE',
  CONTACT_IS_OFFLINE: 'CONTACT_IS_OFFLINE',
  CONTACT_STATE_CHANGED: 'CONTACT_STATE_CHANGED'
};

async function fetchContacts({
  dispatch,
  username
}) {
  try {
    dispatch({
      type: actionTypes.FETCH_CONTACTS_STARTED
    });
    const response = await fetch(`/contacts/find?username=${username}`);
    const {
      contacts
    } = await response.json();
    dispatch({
      type: actionTypes.FETCH_CONTACTS_SUCCESS,
      contacts
    });
  } catch (error) {
    dispatch({
      type: actionTypes.FETCH_CONTACTS_FAILED,
      error
    });
  }
}

function getLocalContacts({
  dispatch,
  contacts
}) {
  dispatch({
    type: actionTypes.GET_LOCAL_CONTACTS,
    contacts
  });
}

function findContact({
  dispatch,
  filter
}) {
  dispatch({
    type: actionTypes.FIND_CONTACT,
    filter
  });
}

const initState = {
  loading: false,
  error: null,
  contacts: []
};

function contactsReducer(state, action) {
  switch (action.type) {
    case actionTypes.FETCH_CONTACTS_STARTED:
      return { ...state,
        loading: true
      };

    case actionTypes.FETCH_CONTACTS_SUCCESS:
      return { ...state,
        loading: false,
        contacts: action.contacts
      };

    case actionTypes.FETCH_CONTACTS_FAILED:
      return { ...state,
        loading: false,
        error: action.error
      };

    case actionTypes.FIND_CONTACT:
      return { ...state,
        contacts: state.contacts.filter(c => c.username === action.filter)
      };

    case actionTypes.GET_LOCAL_CONTACTS:
      const nextState = { ...state,
        contacts: action.contacts
      };
      return nextState;

    case actionTypes.CONTACT_IS_ONLINE:
      return { ...state,
        contacts: state.contacts.map(c => {
          if (c.username === action.username) {
            return { ...c,
              online: true
            };
          }
        })
      };

    case actionTypes.CONTACT_IS_OFFLINE:
      return { ...state,
        contacts: state.contacts.map(c => {
          if (c.username === action.username) {
            return { ...c,
              online: false
            };
          }
        })
      };

    case actionTypes.CONTACT_STATE_CHANGED:
      return { ...state,
        contacts: state.contacts.map(c => {
          if (c.username === action.username) {
            return { ...c,
              state: action.state
            };
          }
        })
      };

    default:
      return state;
  }
}

function useContacts({
  filter,
  username
}) {
  const [state, dispatch] = m(contactsReducer, initState);
  p(() => {
    if (localStorage.getItem(`contacts-${username}`)) {
      const storage = JSON.parse(localStorage.getItem(`contacts-${username}`));
      getLocalContacts({
        dispatch,
        contacts: storage.contacts
      });
    } else {
      fetchContacts({
        dispatch,
        username
      });
    }
  }, []);
  p(() => {
    if (filter && filter.length > 3) {
      findContact({
        dispatch,
        filter
      });
    }
  }, [filter]);
  return {
    state
  };
}

function useWebSocket({
  username,
  target,
  dispatch
}) {
  const [message, setMessage] = v('');
  const {
    socket
  } = useWebSocketContext();

  function onInvite() {
    dispatch({
      type: actionTypes.CONTACT_STATE_CHANGED,
      username: target,
      state: status.INVITEE
    });
    let msg = {
      message,
      type: status.INVITEE,
      username,
      target
    };
    socket.send(JSON.stringify(msg));
  }

  function onAccept() {
    dispatch({
      type: actionTypes.CONTACT_STATE_CHANGED,
      username: target,
      state: status.CHAT
    });
    let msg = {
      message,
      type: status.CHAT,
      username,
      target
    };
    socket.send({
      message: JSON.stringify(msg)
    });
  }

  function onDecline() {
    dispatch({
      type: actionTypes.CONTACT_STATE_CHANGED,
      username: target,
      state: status.DECLINED
    });
    let msg = {
      type: status.DECLINED,
      username,
      target
    };
    socket.send({
      message: JSON.stringify(msg)
    });
  }

  function onBlock() {
    dispatch({
      type: actionTypes.CONTACT_STATE_CHANGED,
      username: target,
      state: status.BLOCKED
    });
    let msg = {
      type: status.BLOCKED,
      username,
      target
    };
    socket.send({
      message: JSON.stringify(msg)
    });
  }

  function onUnblock() {
    dispatch({
      type: actionTypes.CONTACT_STATE_CHANGED,
      username: target,
      state: status.CHAT
    });
    let msg = {
      type: status.CHAT,
      username,
      target
    };
    socket.send({
      message: JSON.stringify(msg)
    });
  }

  function onChange(e) {
    const {
      value
    } = e.target;
    setMessage(value);
  }

  function sendMessage() {
    try {
      let msg = {
        type: contactStatus.MESSAGE,
        username,
        target,
        message,
        path: 'chat'
      };
      let strMgs = JSON.stringify(msg);
      debugger;
      socket.send(JSON.stringify(strMgs));
    } catch (error) {
      debugger;
    }
  }

  return {
    onInvite,
    onAccept,
    onDecline,
    onBlock,
    onUnblock,
    onChange,
    message,
    sendMessage
  };
}

const Contacts = L(() => import('./Contacts-a39195cb.js'));
const Block = L(() => import('./Block-85182413.js'));
const Blocked = L(() => import('./Blocked-38d48762.js'));
const Chat = L(() => import('./Chat-d637ed42.js'));
const Configure = L(() => import('./Configure-1daf604d.js'));
const Invite = L(() => import('./Invite-1a7797b4.js'));
const Invitee = L(() => import('./Invitee-4cabcfb8.js'));
const Inviter = L(() => import('./Inviter-90d7432b.js'));
function PeerToPeerMobile() {
  const authContext = useAuthContext();
  const [state, dispatch] = useContactsContext();
  const [route, setRoute] = useRouteContext();
  const {
    contact
  } = state;
  const {
    username
  } = authContext.state;
  const {
    accept_inv_img
  } = useAppContext();
  const {
    onInvite,
    onAccept,
    onBlock,
    onUnblock,
    onDecline,
    onChange,
    message,
    sendMessage
  } = useWebSocket({
    username,
    target: contact && contact.username,
    dispatch
  });
  p(() => {
    if (contact) {
      setRoute(`/${contact.state}`);
    }
  }, [contact]);

  function onSetting() {
    setRoute('/cofigure');
  }

  return h("div", {
    style: {
      height: '85vh'
    }
  }, h(Route, {
    path: "/contacts"
  }, h(U, {
    fallback: h("div", null, "loading...")
  }, h(Contacts, null))), h(Route, {
    path: "/block"
  }, h(U, {
    fallback: h("div", null, "loading...")
  }, h(Block, {
    contact: contact,
    onBlock: onBlock,
    setRoute: setRoute
  }))), h(Route, {
    path: "/blocked"
  }, h(U, {
    fallback: h("div", null, "loading...")
  }, h(Blocked, {
    contact: contact,
    onUnblock: onUnblock,
    setRoute: setRoute
  }))), h(Route, {
    path: "/accepted"
  }, h(U, {
    fallback: h("div", null, "loading...")
  }, h(Chat, {
    contact: contact,
    onSetting: onSetting,
    onChange: onChange,
    message: message,
    sendMessage: sendMessage
  }))), h(Route, {
    path: "/cofigure"
  }, h(U, {
    fallback: h("div", null, "loading...")
  }, h(Configure, {
    contact: contact,
    setRoute: setRoute
  }))), h(Route, {
    path: "/invite"
  }, h(U, {
    fallback: h("div", null, "loading...")
  }, h(Invite, {
    contact: contact,
    onInvite: onInvite,
    setRoute: setRoute,
    onChange: onChange,
    message: message
  }))), h(Route, {
    path: "/invitee"
  }, h(U, {
    fallback: h("div", null, "loading...")
  }, h(Invitee, {
    contact: contact
  }))), h(Route, {
    path: "/inviter"
  }, h(U, {
    fallback: h("div", null, "loading...")
  }, h(Inviter, {
    accept_inv_img: accept_inv_img,
    contact: contact,
    onAccept: onAccept,
    onDecline: onDecline,
    setRoute: setRoute
  }))));
}

export { PeerToPeerMobile as P, useContacts as u };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9iaWxlLTgwMzM2MTRlLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9jbGllbnQvaGFuZ291dHMvY29udGFjdHMvc3RhdHVzLmpzIiwiLi4vLi4vLi4vY2xpZW50L2hhbmdvdXRzL2NvbnRhY3RzL3VzZUNvbnRhY3RzLmpzIiwiLi4vLi4vLi4vY2xpZW50L2hhbmdvdXRzL3VzZVdlYlNvY2tldC5qcyIsIi4uLy4uLy4uL2NsaWVudC9oYW5nb3V0cy9tb2JpbGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHN0YXR1cyA9IHtcclxuICBJTlZJVEVFOiAnSU5WSVRFRScsXHJcbiAgSU5WSVRFUjogJ0lOVklURVInLFxyXG4gIENIQVQ6ICdDSEFUJyxcclxuICBERUNMSU5FRDogJ0RFQ0xJTkVEJyxcclxuICBERUNMSU5FUjogJ0RFQ0xJTkVSJyxcclxuICBCTE9DS0VEOiAnQkxPQ0tFRCcsXHJcbiAgQkxPQ0tFUjogJ0JMT0NLRVInLFxyXG59O1xyXG4iLCJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZHVjZXIgfSBmcm9tICdwcmVhY3QvaG9va3MnO1xyXG5leHBvcnQgY29uc3QgYWN0aW9uVHlwZXMgPSB7XHJcbiAgRkVUQ0hfQ09OVEFDVFNfU1RBUlRFRDogJ0ZFVENIX0NPTlRBQ1RTX1NUQVJURUQnLFxyXG4gIEZFVENIX0NPTlRBQ1RTX1NVQ0NFU1M6ICdGRVRDSF9DT05UQUNUU19TVUNDRVNTJyxcclxuICBGRVRDSF9DT05UQUNUU19GQUlMRUQ6ICdGRVRDSF9DT05UQUNUU19GQUlMRUQnLFxyXG4gIEdFVF9MT0NBTF9DT05UQUNUUzogJ0dFVF9MT0NBTF9DT05UQUNUUycsXHJcbiAgRklORF9DT05UQUNUOiAnRklORF9DT05UQUNUJyxcclxuICBDT05UQUNUX0lTX09OTElORTogJ0NPTlRBQ1RfSVNfT05MSU5FJyxcclxuICBDT05UQUNUX0lTX09GRkxJTkU6ICdDT05UQUNUX0lTX09GRkxJTkUnLFxyXG4gIENPTlRBQ1RfU1RBVEVfQ0hBTkdFRDogJ0NPTlRBQ1RfU1RBVEVfQ0hBTkdFRCcsXHJcbn07XHJcblxyXG5hc3luYyBmdW5jdGlvbiBmZXRjaENvbnRhY3RzKHsgZGlzcGF0Y2gsIHVzZXJuYW1lIH0pIHtcclxuICB0cnkge1xyXG4gICAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25UeXBlcy5GRVRDSF9DT05UQUNUU19TVEFSVEVEIH0pO1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2NvbnRhY3RzL2ZpbmQ/dXNlcm5hbWU9JHt1c2VybmFtZX1gKTtcclxuICAgIGNvbnN0IHsgY29udGFjdHMgfSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvblR5cGVzLkZFVENIX0NPTlRBQ1RTX1NVQ0NFU1MsIGNvbnRhY3RzIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvblR5cGVzLkZFVENIX0NPTlRBQ1RTX0ZBSUxFRCwgZXJyb3IgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRMb2NhbENvbnRhY3RzKHsgZGlzcGF0Y2gsIGNvbnRhY3RzIH0pIHtcclxuICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvblR5cGVzLkdFVF9MT0NBTF9DT05UQUNUUywgY29udGFjdHMgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbmRDb250YWN0KHsgZGlzcGF0Y2gsIGZpbHRlciB9KSB7XHJcbiAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25UeXBlcy5GSU5EX0NPTlRBQ1QsIGZpbHRlciB9KTtcclxufVxyXG5cclxuY29uc3QgaW5pdFN0YXRlID0ge1xyXG4gIGxvYWRpbmc6IGZhbHNlLFxyXG4gIGVycm9yOiBudWxsLFxyXG4gIGNvbnRhY3RzOiBbXSxcclxufTtcclxuXHJcbmZ1bmN0aW9uIGNvbnRhY3RzUmVkdWNlcihzdGF0ZSwgYWN0aW9uKSB7XHJcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xyXG4gICAgY2FzZSBhY3Rpb25UeXBlcy5GRVRDSF9DT05UQUNUU19TVEFSVEVEOlxyXG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgbG9hZGluZzogdHJ1ZSB9O1xyXG4gICAgY2FzZSBhY3Rpb25UeXBlcy5GRVRDSF9DT05UQUNUU19TVUNDRVNTOlxyXG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgbG9hZGluZzogZmFsc2UsIGNvbnRhY3RzOiBhY3Rpb24uY29udGFjdHMgfTtcclxuICAgIGNhc2UgYWN0aW9uVHlwZXMuRkVUQ0hfQ09OVEFDVFNfRkFJTEVEOlxyXG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgbG9hZGluZzogZmFsc2UsIGVycm9yOiBhY3Rpb24uZXJyb3IgfTtcclxuICAgIGNhc2UgYWN0aW9uVHlwZXMuRklORF9DT05UQUNUOlxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgIGNvbnRhY3RzOiBzdGF0ZS5jb250YWN0cy5maWx0ZXIoKGMpID0+IGMudXNlcm5hbWUgPT09IGFjdGlvbi5maWx0ZXIpLFxyXG4gICAgICB9O1xyXG4gICAgY2FzZSBhY3Rpb25UeXBlcy5HRVRfTE9DQUxfQ09OVEFDVFM6XHJcbiAgICAgIGNvbnN0IG5leHRTdGF0ZSA9IHsgLi4uc3RhdGUsIGNvbnRhY3RzOiBhY3Rpb24uY29udGFjdHMgfTtcclxuXHJcbiAgICAgIHJldHVybiBuZXh0U3RhdGU7XHJcbiAgICBjYXNlIGFjdGlvblR5cGVzLkNPTlRBQ1RfSVNfT05MSU5FOlxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgIGNvbnRhY3RzOiBzdGF0ZS5jb250YWN0cy5tYXAoKGMpID0+IHtcclxuICAgICAgICAgIGlmIChjLnVzZXJuYW1lID09PSBhY3Rpb24udXNlcm5hbWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgLi4uYywgb25saW5lOiB0cnVlIH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSksXHJcbiAgICAgIH07XHJcbiAgICBjYXNlIGFjdGlvblR5cGVzLkNPTlRBQ1RfSVNfT0ZGTElORTpcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICAuLi5zdGF0ZSxcclxuICAgICAgICBjb250YWN0czogc3RhdGUuY29udGFjdHMubWFwKChjKSA9PiB7XHJcbiAgICAgICAgICBpZiAoYy51c2VybmFtZSA9PT0gYWN0aW9uLnVzZXJuYW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmMsIG9ubGluZTogZmFsc2UgfTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KSxcclxuICAgICAgfTtcclxuICAgIGNhc2UgYWN0aW9uVHlwZXMuQ09OVEFDVF9TVEFURV9DSEFOR0VEOlxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgIGNvbnRhY3RzOiBzdGF0ZS5jb250YWN0cy5tYXAoKGMpID0+IHtcclxuICAgICAgICAgIGlmIChjLnVzZXJuYW1lID09PSBhY3Rpb24udXNlcm5hbWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgLi4uYywgc3RhdGU6IGFjdGlvbi5zdGF0ZSB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pLFxyXG4gICAgICB9O1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVzZUNvbnRhY3RzKHsgZmlsdGVyLCB1c2VybmFtZSB9KSB7XHJcbiAgY29uc3QgW3N0YXRlLCBkaXNwYXRjaF0gPSB1c2VSZWR1Y2VyKGNvbnRhY3RzUmVkdWNlciwgaW5pdFN0YXRlKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShgY29udGFjdHMtJHt1c2VybmFtZX1gKSkge1xyXG4gICAgICBjb25zdCBzdG9yYWdlID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShgY29udGFjdHMtJHt1c2VybmFtZX1gKSk7XHJcbiAgICAgIGdldExvY2FsQ29udGFjdHMoeyBkaXNwYXRjaCwgY29udGFjdHM6IHN0b3JhZ2UuY29udGFjdHMgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmZXRjaENvbnRhY3RzKHsgZGlzcGF0Y2gsIHVzZXJuYW1lIH0pO1xyXG4gICAgfVxyXG4gIH0sIFtdKTtcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGZpbHRlciAmJiBmaWx0ZXIubGVuZ3RoID4gMykge1xyXG4gICAgICBmaW5kQ29udGFjdCh7IGRpc3BhdGNoLCBmaWx0ZXIgfSk7XHJcbiAgICB9XHJcbiAgfSwgW2ZpbHRlcl0pO1xyXG5cclxuICByZXR1cm4geyBzdGF0ZSB9O1xyXG59XHJcbiIsImltcG9ydCB7IHVzZVdlYlNvY2tldENvbnRleHQgfSBmcm9tICcuL1dlYlNvY2tldFByb3ZpZGVyJztcclxuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdwcmVhY3QvaG9va3MnO1xyXG5pbXBvcnQgeyBzdGF0dXMgfSBmcm9tICcuL2NvbnRhY3RzL3N0YXR1cyc7XHJcbmltcG9ydCB7IGFjdGlvblR5cGVzIH0gZnJvbSAnLi9jb250YWN0cy91c2VDb250YWN0cyc7XHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VXZWJTb2NrZXQoeyB1c2VybmFtZSwgdGFyZ2V0LCBkaXNwYXRjaCB9KSB7XHJcbiAgY29uc3QgW21lc3NhZ2UsIHNldE1lc3NhZ2VdID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IHsgc29ja2V0IH0gPSB1c2VXZWJTb2NrZXRDb250ZXh0KCk7XHJcbiAgZnVuY3Rpb24gb25JbnZpdGUoKSB7XHJcblxyXG4gICAgZGlzcGF0Y2goe1xyXG4gICAgICB0eXBlOiBhY3Rpb25UeXBlcy5DT05UQUNUX1NUQVRFX0NIQU5HRUQsXHJcbiAgICAgIHVzZXJuYW1lOiB0YXJnZXQsXHJcbiAgICAgIHN0YXRlOiBzdGF0dXMuSU5WSVRFRSxcclxuICAgIH0pO1xyXG4gICAgbGV0IG1zZyA9IHtcclxuICAgICAgbWVzc2FnZSxcclxuICAgICAgdHlwZTogc3RhdHVzLklOVklURUUsXHJcbiAgICAgIHVzZXJuYW1lLFxyXG4gICAgICB0YXJnZXQsXHJcbiAgICB9O1xyXG5cclxuICAgIHNvY2tldC5zZW5kKEpTT04uc3RyaW5naWZ5KG1zZykpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gb25BY2NlcHQoKSB7XHJcbiAgICBkaXNwYXRjaCh7XHJcbiAgICAgIHR5cGU6IGFjdGlvblR5cGVzLkNPTlRBQ1RfU1RBVEVfQ0hBTkdFRCxcclxuICAgICAgdXNlcm5hbWU6IHRhcmdldCxcclxuICAgICAgc3RhdGU6IHN0YXR1cy5DSEFULFxyXG4gICAgfSk7XHJcbiAgICBsZXQgbXNnID0ge1xyXG4gICAgICBtZXNzYWdlLFxyXG4gICAgICB0eXBlOiBzdGF0dXMuQ0hBVCxcclxuICAgICAgdXNlcm5hbWUsXHJcbiAgICAgIHRhcmdldCxcclxuICAgIH07XHJcbiAgICBzb2NrZXQuc2VuZCh7IG1lc3NhZ2U6IEpTT04uc3RyaW5naWZ5KG1zZykgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBvbkRlY2xpbmUoKSB7XHJcbiAgICBkaXNwYXRjaCh7XHJcbiAgICAgIHR5cGU6IGFjdGlvblR5cGVzLkNPTlRBQ1RfU1RBVEVfQ0hBTkdFRCxcclxuICAgICAgdXNlcm5hbWU6IHRhcmdldCxcclxuICAgICAgc3RhdGU6IHN0YXR1cy5ERUNMSU5FRCxcclxuICAgIH0pO1xyXG4gICAgbGV0IG1zZyA9IHsgdHlwZTogc3RhdHVzLkRFQ0xJTkVELCB1c2VybmFtZSwgdGFyZ2V0IH07XHJcbiAgICBzb2NrZXQuc2VuZCh7IG1lc3NhZ2U6IEpTT04uc3RyaW5naWZ5KG1zZykgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBvbkJsb2NrKCkge1xyXG4gICAgZGlzcGF0Y2goe1xyXG4gICAgICB0eXBlOiBhY3Rpb25UeXBlcy5DT05UQUNUX1NUQVRFX0NIQU5HRUQsXHJcbiAgICAgIHVzZXJuYW1lOiB0YXJnZXQsXHJcbiAgICAgIHN0YXRlOiBzdGF0dXMuQkxPQ0tFRCxcclxuICAgIH0pO1xyXG4gICAgbGV0IG1zZyA9IHsgdHlwZTogc3RhdHVzLkJMT0NLRUQsIHVzZXJuYW1lLCB0YXJnZXQgfTtcclxuICAgIHNvY2tldC5zZW5kKHsgbWVzc2FnZTogSlNPTi5zdHJpbmdpZnkobXNnKSB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIG9uVW5ibG9jaygpIHtcclxuICAgIGRpc3BhdGNoKHtcclxuICAgICAgdHlwZTogYWN0aW9uVHlwZXMuQ09OVEFDVF9TVEFURV9DSEFOR0VELFxyXG4gICAgICB1c2VybmFtZTogdGFyZ2V0LFxyXG4gICAgICBzdGF0ZTogc3RhdHVzLkNIQVQsXHJcbiAgICB9KTtcclxuICAgIGxldCBtc2cgPSB7IHR5cGU6IHN0YXR1cy5DSEFULCB1c2VybmFtZSwgdGFyZ2V0IH07XHJcbiAgICBzb2NrZXQuc2VuZCh7IG1lc3NhZ2U6IEpTT04uc3RyaW5naWZ5KG1zZykgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XHJcbiAgICBjb25zdCB7IHZhbHVlIH0gPSBlLnRhcmdldDtcclxuICAgIHNldE1lc3NhZ2UodmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc2VuZE1lc3NhZ2UoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgbXNnID0ge1xyXG4gICAgICAgIHR5cGU6IGNvbnRhY3RTdGF0dXMuTUVTU0FHRSxcclxuICAgICAgICB1c2VybmFtZSxcclxuICAgICAgICB0YXJnZXQsXHJcbiAgICAgICAgbWVzc2FnZSxcclxuICAgICAgICBwYXRoOiAnY2hhdCcsXHJcbiAgICAgIH07XHJcbiAgICAgIGxldCBzdHJNZ3MgPSBKU09OLnN0cmluZ2lmeShtc2cpO1xyXG4gICAgICBkZWJ1Z2dlcjtcclxuICAgICAgc29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkoc3RyTWdzKSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zdCBlcnIgPSBlcnJvcjtcclxuICAgICAgZGVidWdnZXI7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiB7XHJcbiAgICBvbkludml0ZSxcclxuICAgIG9uQWNjZXB0LFxyXG4gICAgb25EZWNsaW5lLFxyXG4gICAgb25CbG9jayxcclxuICAgIG9uVW5ibG9jayxcclxuICAgIG9uQ2hhbmdlLFxyXG4gICAgbWVzc2FnZSxcclxuICAgIHNlbmRNZXNzYWdlLFxyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCc7XHJcbmltcG9ydCB7IFN1c3BlbnNlLCBsYXp5IH0gZnJvbSAncHJlYWN0L2NvbXBhdCc7XHJcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3ByZWFjdC9ob29rcyc7XHJcbmltcG9ydCB7IFJvdXRlLCB1c2VSb3V0ZUNvbnRleHQgfSBmcm9tICcuLi9yb3V0ZS9yb3V0ZXInO1xyXG5pbXBvcnQgeyB1c2VDb250YWN0c0NvbnRleHQgfSBmcm9tICcuL2NvbnRhY3RzL2NvbnRhY3QtY29udGV4dCc7XHJcbmltcG9ydCB7IHVzZUFwcENvbnRleHQgfSBmcm9tICcuLi9hcHAtY29udGV4dC9hcHAtY29udGV4dCc7XHJcbmltcG9ydCB7IHVzZUF1dGhDb250ZXh0IH0gZnJvbSAnLi4vYXV0aC9hdXRoLWNvbnRleHQnO1xyXG5pbXBvcnQgeyB1c2VXZWJTb2NrZXQgfSBmcm9tICcuL3VzZVdlYlNvY2tldCc7XHJcbmNvbnN0IENvbnRhY3RzID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4vY29udGFjdHMvQ29udGFjdHMnKSk7XHJcbmNvbnN0IEJsb2NrID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4vdmlld3MvQmxvY2snKSk7XHJcbmNvbnN0IEJsb2NrZWQgPSBsYXp5KCgpID0+IGltcG9ydCgnLi92aWV3cy9CbG9ja2VkJykpO1xyXG5jb25zdCBDaGF0ID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4vdmlld3MvQ2hhdCcpKTtcclxuY29uc3QgQ29uZmlndXJlID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4vdmlld3MvQ29uZmlndXJlJykpO1xyXG5jb25zdCBJbnZpdGUgPSBsYXp5KCgpID0+IGltcG9ydCgnLi92aWV3cy9JbnZpdGUnKSk7XHJcbmNvbnN0IEludml0ZWUgPSBsYXp5KCgpID0+IGltcG9ydCgnLi92aWV3cy9JbnZpdGVlJykpO1xyXG5jb25zdCBJbnZpdGVyID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4vdmlld3MvSW52aXRlcicpKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBlZXJUb1BlZXJNb2JpbGUoKSB7XHJcbiAgY29uc3QgYXV0aENvbnRleHQgPSB1c2VBdXRoQ29udGV4dCgpO1xyXG4gIGNvbnN0IFtzdGF0ZSwgZGlzcGF0Y2hdID0gdXNlQ29udGFjdHNDb250ZXh0KCk7XHJcbiAgY29uc3QgW3JvdXRlLCBzZXRSb3V0ZV0gPSB1c2VSb3V0ZUNvbnRleHQoKTtcclxuICBjb25zdCB7IGNvbnRhY3QgfSA9IHN0YXRlO1xyXG4gIGNvbnN0IHsgdXNlcm5hbWUgfSA9IGF1dGhDb250ZXh0LnN0YXRlO1xyXG4gIGNvbnN0IHsgYWNjZXB0X2ludl9pbWcgfSA9IHVzZUFwcENvbnRleHQoKTtcclxuICBjb25zdCB7XHJcbiAgICBvbkludml0ZSxcclxuICAgIG9uQWNjZXB0LFxyXG4gICAgb25CbG9jayxcclxuICAgIG9uVW5ibG9jayxcclxuICAgIG9uRGVjbGluZSxcclxuICAgIG9uQ2hhbmdlLFxyXG4gICAgbWVzc2FnZSxcclxuICAgIHNlbmRNZXNzYWdlLFxyXG4gIH0gPSB1c2VXZWJTb2NrZXQoeyB1c2VybmFtZSwgdGFyZ2V0OiBjb250YWN0ICYmIGNvbnRhY3QudXNlcm5hbWUsIGRpc3BhdGNoIH0pO1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoY29udGFjdCkge1xyXG4gICAgICBzZXRSb3V0ZShgLyR7Y29udGFjdC5zdGF0ZX1gKTtcclxuICAgIH1cclxuICB9LCBbY29udGFjdF0pO1xyXG5cclxuICBmdW5jdGlvbiBvblNldHRpbmcoKSB7XHJcbiAgICBzZXRSb3V0ZSgnL2NvZmlndXJlJyk7XHJcbiAgfVxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IHN0eWxlPXt7IGhlaWdodDogJzg1dmgnIH19PlxyXG4gICAgICA8Um91dGUgcGF0aD0nL2NvbnRhY3RzJz5cclxuICAgICAgICA8U3VzcGVuc2UgZmFsbGJhY2s9ezxkaXY+bG9hZGluZy4uLjwvZGl2Pn0+XHJcbiAgICAgICAgICA8Q29udGFjdHMgLz5cclxuICAgICAgICA8L1N1c3BlbnNlPlxyXG4gICAgICA8L1JvdXRlPlxyXG5cclxuICAgICAgPFJvdXRlIHBhdGg9Jy9ibG9jayc+XHJcbiAgICAgICAgPFN1c3BlbnNlIGZhbGxiYWNrPXs8ZGl2PmxvYWRpbmcuLi48L2Rpdj59PlxyXG4gICAgICAgICAgPEJsb2NrIGNvbnRhY3Q9e2NvbnRhY3R9IG9uQmxvY2s9e29uQmxvY2t9IHNldFJvdXRlPXtzZXRSb3V0ZX0gLz5cclxuICAgICAgICA8L1N1c3BlbnNlPlxyXG4gICAgICA8L1JvdXRlPlxyXG4gICAgICA8Um91dGUgcGF0aD0nL2Jsb2NrZWQnPlxyXG4gICAgICAgIDxTdXNwZW5zZSBmYWxsYmFjaz17PGRpdj5sb2FkaW5nLi4uPC9kaXY+fT5cclxuICAgICAgICAgIDxCbG9ja2VkXHJcbiAgICAgICAgICAgIGNvbnRhY3Q9e2NvbnRhY3R9XHJcbiAgICAgICAgICAgIG9uVW5ibG9jaz17b25VbmJsb2NrfVxyXG4gICAgICAgICAgICBzZXRSb3V0ZT17c2V0Um91dGV9XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgIDwvU3VzcGVuc2U+XHJcbiAgICAgIDwvUm91dGU+XHJcbiAgICAgIDxSb3V0ZSBwYXRoPScvYWNjZXB0ZWQnPlxyXG4gICAgICAgIDxTdXNwZW5zZSBmYWxsYmFjaz17PGRpdj5sb2FkaW5nLi4uPC9kaXY+fT5cclxuICAgICAgICAgIDxDaGF0XHJcbiAgICAgICAgICAgIGNvbnRhY3Q9e2NvbnRhY3R9XHJcbiAgICAgICAgICAgIG9uU2V0dGluZz17b25TZXR0aW5nfVxyXG4gICAgICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2V9XHJcbiAgICAgICAgICAgIG1lc3NhZ2U9e21lc3NhZ2V9XHJcbiAgICAgICAgICAgIHNlbmRNZXNzYWdlPXtzZW5kTWVzc2FnZX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgPC9TdXNwZW5zZT5cclxuICAgICAgPC9Sb3V0ZT5cclxuICAgICAgPFJvdXRlIHBhdGg9Jy9jb2ZpZ3VyZSc+XHJcbiAgICAgICAgPFN1c3BlbnNlIGZhbGxiYWNrPXs8ZGl2PmxvYWRpbmcuLi48L2Rpdj59PlxyXG4gICAgICAgICAgPENvbmZpZ3VyZSBjb250YWN0PXtjb250YWN0fSBzZXRSb3V0ZT17c2V0Um91dGV9IC8+XHJcbiAgICAgICAgPC9TdXNwZW5zZT5cclxuICAgICAgPC9Sb3V0ZT5cclxuICAgICAgPFJvdXRlIHBhdGg9Jy9pbnZpdGUnPlxyXG4gICAgICAgIDxTdXNwZW5zZSBmYWxsYmFjaz17PGRpdj5sb2FkaW5nLi4uPC9kaXY+fT5cclxuICAgICAgICAgIDxJbnZpdGVcclxuICAgICAgICAgICAgY29udGFjdD17Y29udGFjdH1cclxuICAgICAgICAgICAgb25JbnZpdGU9e29uSW52aXRlfVxyXG4gICAgICAgICAgICBzZXRSb3V0ZT17c2V0Um91dGV9XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cclxuICAgICAgICAgICAgbWVzc2FnZT17bWVzc2FnZX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgPC9TdXNwZW5zZT5cclxuICAgICAgPC9Sb3V0ZT5cclxuICAgICAgPFJvdXRlIHBhdGg9Jy9pbnZpdGVlJz5cclxuICAgICAgICA8U3VzcGVuc2UgZmFsbGJhY2s9ezxkaXY+bG9hZGluZy4uLjwvZGl2Pn0+XHJcbiAgICAgICAgICA8SW52aXRlZSBjb250YWN0PXtjb250YWN0fSAvPlxyXG4gICAgICAgIDwvU3VzcGVuc2U+XHJcbiAgICAgIDwvUm91dGU+XHJcbiAgICAgIDxSb3V0ZSBwYXRoPScvaW52aXRlcic+XHJcbiAgICAgICAgPFN1c3BlbnNlIGZhbGxiYWNrPXs8ZGl2PmxvYWRpbmcuLi48L2Rpdj59PlxyXG4gICAgICAgICAgPEludml0ZXJcclxuICAgICAgICAgICAgYWNjZXB0X2ludl9pbWc9e2FjY2VwdF9pbnZfaW1nfVxyXG4gICAgICAgICAgICBjb250YWN0PXtjb250YWN0fVxyXG4gICAgICAgICAgICBvbkFjY2VwdD17b25BY2NlcHR9XHJcbiAgICAgICAgICAgIG9uRGVjbGluZT17b25EZWNsaW5lfVxyXG4gICAgICAgICAgICBzZXRSb3V0ZT17c2V0Um91dGV9XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgIDwvU3VzcGVuc2U+XHJcbiAgICAgIDwvUm91dGU+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJzdGF0dXMiLCJJTlZJVEVFIiwiSU5WSVRFUiIsIkNIQVQiLCJERUNMSU5FRCIsIkRFQ0xJTkVSIiwiQkxPQ0tFRCIsIkJMT0NLRVIiLCJhY3Rpb25UeXBlcyIsIkZFVENIX0NPTlRBQ1RTX1NUQVJURUQiLCJGRVRDSF9DT05UQUNUU19TVUNDRVNTIiwiRkVUQ0hfQ09OVEFDVFNfRkFJTEVEIiwiR0VUX0xPQ0FMX0NPTlRBQ1RTIiwiRklORF9DT05UQUNUIiwiQ09OVEFDVF9JU19PTkxJTkUiLCJDT05UQUNUX0lTX09GRkxJTkUiLCJDT05UQUNUX1NUQVRFX0NIQU5HRUQiLCJmZXRjaENvbnRhY3RzIiwiZGlzcGF0Y2giLCJ1c2VybmFtZSIsInR5cGUiLCJyZXNwb25zZSIsImZldGNoIiwiY29udGFjdHMiLCJqc29uIiwiZXJyb3IiLCJnZXRMb2NhbENvbnRhY3RzIiwiZmluZENvbnRhY3QiLCJmaWx0ZXIiLCJpbml0U3RhdGUiLCJsb2FkaW5nIiwiY29udGFjdHNSZWR1Y2VyIiwic3RhdGUiLCJhY3Rpb24iLCJjIiwibmV4dFN0YXRlIiwibWFwIiwib25saW5lIiwidXNlQ29udGFjdHMiLCJ1c2VSZWR1Y2VyIiwidXNlRWZmZWN0IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInN0b3JhZ2UiLCJKU09OIiwicGFyc2UiLCJsZW5ndGgiLCJ1c2VXZWJTb2NrZXQiLCJ0YXJnZXQiLCJtZXNzYWdlIiwic2V0TWVzc2FnZSIsInVzZVN0YXRlIiwic29ja2V0IiwidXNlV2ViU29ja2V0Q29udGV4dCIsIm9uSW52aXRlIiwibXNnIiwic2VuZCIsInN0cmluZ2lmeSIsIm9uQWNjZXB0Iiwib25EZWNsaW5lIiwib25CbG9jayIsIm9uVW5ibG9jayIsIm9uQ2hhbmdlIiwiZSIsInZhbHVlIiwic2VuZE1lc3NhZ2UiLCJjb250YWN0U3RhdHVzIiwiTUVTU0FHRSIsInBhdGgiLCJzdHJNZ3MiLCJDb250YWN0cyIsImxhenkiLCJCbG9jayIsIkJsb2NrZWQiLCJDaGF0IiwiQ29uZmlndXJlIiwiSW52aXRlIiwiSW52aXRlZSIsIkludml0ZXIiLCJQZWVyVG9QZWVyTW9iaWxlIiwiYXV0aENvbnRleHQiLCJ1c2VBdXRoQ29udGV4dCIsInVzZUNvbnRhY3RzQ29udGV4dCIsInJvdXRlIiwic2V0Um91dGUiLCJ1c2VSb3V0ZUNvbnRleHQiLCJjb250YWN0IiwiYWNjZXB0X2ludl9pbWciLCJ1c2VBcHBDb250ZXh0Iiwib25TZXR0aW5nIiwiaGVpZ2h0IiwiU3VzcGVuc2UiXSwibWFwcGluZ3MiOiI7OztBQUFPLE1BQU1BLE1BQU0sR0FBRztBQUNwQkMsRUFBQUEsT0FBTyxFQUFFLFNBRFc7QUFFcEJDLEVBQUFBLE9BQU8sRUFBRSxTQUZXO0FBR3BCQyxFQUFBQSxJQUFJLEVBQUUsTUFIYztBQUlwQkMsRUFBQUEsUUFBUSxFQUFFLFVBSlU7QUFLcEJDLEVBQUFBLFFBQVEsRUFBRSxVQUxVO0FBTXBCQyxFQUFBQSxPQUFPLEVBQUUsU0FOVztBQU9wQkMsRUFBQUEsT0FBTyxFQUFFO0FBUFcsQ0FBZjs7QUNDQSxNQUFNQyxXQUFXLEdBQUc7QUFDekJDLEVBQUFBLHNCQUFzQixFQUFFLHdCQURDO0FBRXpCQyxFQUFBQSxzQkFB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
