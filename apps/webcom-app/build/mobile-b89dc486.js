import { p, l, m, u as useAuthContext, d as useRouteContext, B as useAppContext, h, C as Route, c as M, O } from './index-d17aa3cb.js';
import { u as useWebSocketContext, a as useContactsContext } from './index-3ef4ac47.js';

const status = {
  INVITEE: 'INVITEE',
  INVITER: 'INVITER',
  CHAT: 'CHAT',
  DECLINED: 'DECLINED',
  DECLINER: 'DECLINER',
  BLOCKED: 'BLOCKED',
  BLOCKER: 'BLOCKER'
};

const actionTypes = {
  FETCH_CONTACTS_STARTED: 'FETCH_CONTACTS_STARTED',
  FETCH_CONTACTS_SUCCESS: 'FETCH_CONTACTS_SUCCESS',
  FETCH_CONTACTS_FAILED: 'FETCH_CONTACTS_FAILED',
  GET_LOCAL_CONTACTS: 'GET_LOCAL_CONTACTS',
  FIND_CONTACT: 'FIND_CONTACT',
  CONTACT_IS_ONLINE: 'CONTACT_IS_ONLINE',
  CONTACT_IS_OFFLINE: 'CONTACT_IS_OFFLINE',
  CONTACT_STATE_CHANGED: 'CONTACT_STATE_CHANGED'
};

async function fetchContacts({
  dispatch,
  username
}) {
  try {
    dispatch({
      type: actionTypes.FETCH_CONTACTS_STARTED
    });
    const response = await fetch(`/contacts/find?username=${username}`);
    const {
      contacts
    } = await response.json();
    dispatch({
      type: actionTypes.FETCH_CONTACTS_SUCCESS,
      contacts
    });
  } catch (error) {
    dispatch({
      type: actionTypes.FETCH_CONTACTS_FAILED,
      error
    });
  }
}

function getLocalContacts({
  dispatch,
  contacts
}) {
  dispatch({
    type: actionTypes.GET_LOCAL_CONTACTS,
    contacts
  });
}

function findContact({
  dispatch,
  filter
}) {
  dispatch({
    type: actionTypes.FIND_CONTACT,
    filter
  });
}

const initState = {
  loading: false,
  error: null,
  contacts: []
};

function contactsReducer(state, action) {
  switch (action.type) {
    case actionTypes.FETCH_CONTACTS_STARTED:
      return { ...state,
        loading: true
      };

    case actionTypes.FETCH_CONTACTS_SUCCESS:
      return { ...state,
        loading: false,
        contacts: action.contacts
      };

    case actionTypes.FETCH_CONTACTS_FAILED:
      return { ...state,
        loading: false,
        error: action.error
      };

    case actionTypes.FIND_CONTACT:
      return { ...state,
        contacts: state.contacts.filter(c => c.username === action.filter)
      };

    case actionTypes.GET_LOCAL_CONTACTS:
      const nextState = { ...state,
        contacts: action.contacts
      };
      return nextState;

    case actionTypes.CONTACT_IS_ONLINE:
      return { ...state,
        contacts: state.contacts.map(c => {
          if (c.username === action.username) {
            return { ...c,
              online: true
            };
          }
        })
      };

    case actionTypes.CONTACT_IS_OFFLINE:
      return { ...state,
        contacts: state.contacts.map(c => {
          if (c.username === action.username) {
            return { ...c,
              online: false
            };
          }
        })
      };

    case actionTypes.CONTACT_STATE_CHANGED:
      return { ...state,
        contacts: state.contacts.map(c => {
          if (c.username === action.username) {
            return { ...c,
              state: action.state
            };
          }
        })
      };

    default:
      return state;
  }
}

function useContacts({
  filter,
  username
}) {
  const [state, dispatch] = p(contactsReducer, initState);
  l(() => {
    if (localStorage.getItem(`contacts-${username}`)) {
      const storage = JSON.parse(localStorage.getItem(`contacts-${username}`));
      getLocalContacts({
        dispatch,
        contacts: storage.contacts
      });
    } else {
      fetchContacts({
        dispatch,
        username
      });
    }
  }, []);
  l(() => {
    if (filter && filter.length > 3) {
      findContact({
        dispatch,
        filter
      });
    }
  }, [filter]);
  return {
    state
  };
}

function useWebSocket({
  username,
  target,
  dispatch
}) {
  const [message, setMessage] = m('');
  const {
    socket
  } = useWebSocketContext();

  function onInvite() {
    dispatch({
      type: actionTypes.CONTACT_STATE_CHANGED,
      username: target,
      state: status.INVITEE
    });
    let msg = {
      message,
      type: status.INVITEE,
      target
    };
    socket.send(JSON.stringify(msg));
  }

  function onAccept() {
    dispatch({
      type: actionTypes.CONTACT_STATE_CHANGED,
      username: target,
      state: status.CHAT
    });
    let msg = {
      message,
      type: status.CHAT,
      target
    };
    socket.send({
      message: JSON.stringify(msg)
    });
  }

  function onDecline() {
    dispatch({
      type: actionTypes.CONTACT_STATE_CHANGED,
      username: target,
      state: status.DECLINED
    });
    let msg = {
      type: status.DECLINED,
      target
    };
    socket.send({
      message: JSON.stringify(msg)
    });
  }

  function onBlock() {
    dispatch({
      type: actionTypes.CONTACT_STATE_CHANGED,
      username: target,
      state: status.BLOCKED
    });
    let msg = {
      type: status.BLOCKED,
      target
    };
    socket.send({
      message: JSON.stringify(msg)
    });
  }

  function onUnblock() {
    dispatch({
      type: actionTypes.CONTACT_STATE_CHANGED,
      username: target,
      state: status.CHAT
    });
    let msg = {
      type: status.CHAT,
      target
    };
    socket.send({
      message: JSON.stringify(msg)
    });
  }

  function onChange(e) {
    const {
      value
    } = e.target;
    setMessage(value);
  }

  function sendMessage() {
    try {
      let msg = {
        type: contactStatus.MESSAGE,
        target,
        message
      };
      let strMgs = JSON.stringify(msg);
      debugger;
      socket.send(JSON.stringify(strMgs));
    } catch (error) {
      debugger;
    }
  }

  return {
    onInvite,
    onAccept,
    onDecline,
    onBlock,
    onUnblock,
    onChange,
    message,
    sendMessage
  };
}

const Contacts = O(() => import('./Contacts-15c10462.js'));
const Block = O(() => import('./Block-ca14183f.js'));
const Blocked = O(() => import('./Blocked-fa9c4379.js'));
const Chat = O(() => import('./Chat-d69e08b0.js'));
const Configure = O(() => import('./Configure-32740f6d.js'));
const Invite = O(() => import('./Invite-1f876b49.js'));
const Invitee = O(() => import('./Invitee-71972309.js'));
const Inviter = O(() => import('./Inviter-ed3c6964.js'));
function PeerToPeerMobile() {
  const authContext = useAuthContext();
  const [state, dispatch] = useContactsContext();
  const [route, setRoute] = useRouteContext();
  const {
    contact
  } = state;
  const {
    username
  } = authContext.state;
  const {
    accept_inv_img
  } = useAppContext();
  const {
    onInvite,
    onAccept,
    onBlock,
    onUnblock,
    onDecline,
    onChange,
    message,
    sendMessage
  } = useWebSocket({
    username,
    target: contact && contact.username,
    dispatch
  });
  l(() => {
    if (contact) {
      setRoute(`/${contact.state}`);
    }
  }, [contact]);

  function onSetting() {
    setRoute('/cofigure');
  }

  return h("div", {
    style: {
      height: '85vh'
    }
  }, h(Route, {
    path: "/contacts"
  }, h(M, {
    fallback: h("div", null, "loading...")
  }, h(Contacts, null))), h(Route, {
    path: "/block"
  }, h(M, {
    fallback: h("div", null, "loading...")
  }, h(Block, {
    contact: contact,
    onBlock: onBlock,
    setRoute: setRoute
  }))), h(Route, {
    path: "/blocked"
  }, h(M, {
    fallback: h("div", null, "loading...")
  }, h(Blocked, {
    contact: contact,
    onUnblock: onUnblock,
    setRoute: setRoute
  }))), h(Route, {
    path: "/accepted"
  }, h(M, {
    fallback: h("div", null, "loading...")
  }, h(Chat, {
    contact: contact,
    onSetting: onSetting,
    onChange: onChange,
    message: message,
    sendMessage: sendMessage
  }))), h(Route, {
    path: "/cofigure"
  }, h(M, {
    fallback: h("div", null, "loading...")
  }, h(Configure, {
    contact: contact,
    setRoute: setRoute
  }))), h(Route, {
    path: "/invite"
  }, h(M, {
    fallback: h("div", null, "loading...")
  }, h(Invite, {
    contact: contact,
    onInvite: onInvite,
    setRoute: setRoute,
    onChange: onChange,
    message: message
  }))), h(Route, {
    path: "/invitee"
  }, h(M, {
    fallback: h("div", null, "loading...")
  }, h(Invitee, {
    contact: contact
  }))), h(Route, {
    path: "/inviter"
  }, h(M, {
    fallback: h("div", null, "loading...")
  }, h(Inviter, {
    accept_inv_img: accept_inv_img,
    contact: contact,
    onAccept: onAccept,
    onDecline: onDecline,
    setRoute: setRoute
  }))));
}

var mobile = /*#__PURE__*/Object.freeze({
  __proto__: null,
  'default': PeerToPeerMobile
});

export { mobile as m, useContacts as u };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9iaWxlLWI4OWRjNDg2LmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9jbGllbnQvaGFuZ291dHMvY29udGFjdHMvc3RhdHVzLmpzIiwiLi4vLi4vLi4vY2xpZW50L2hhbmdvdXRzL2NvbnRhY3RzL3VzZUNvbnRhY3RzLmpzIiwiLi4vLi4vLi4vY2xpZW50L2hhbmdvdXRzL3VzZVdlYlNvY2tldC5qcyIsIi4uLy4uLy4uL2NsaWVudC9oYW5nb3V0cy9tb2JpbGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHN0YXR1cyA9IHtcclxuICBJTlZJVEVFOiAnSU5WSVRFRScsXHJcbiAgSU5WSVRFUjogJ0lOVklURVInLFxyXG4gIENIQVQ6ICdDSEFUJyxcclxuICBERUNMSU5FRDogJ0RFQ0xJTkVEJyxcclxuICBERUNMSU5FUjogJ0RFQ0xJTkVSJyxcclxuICBCTE9DS0VEOiAnQkxPQ0tFRCcsXHJcbiAgQkxPQ0tFUjogJ0JMT0NLRVInLFxyXG59O1xyXG4iLCJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZHVjZXIgfSBmcm9tICdwcmVhY3QvaG9va3MnO1xyXG5leHBvcnQgY29uc3QgYWN0aW9uVHlwZXMgPSB7XHJcbiAgRkVUQ0hfQ09OVEFDVFNfU1RBUlRFRDogJ0ZFVENIX0NPTlRBQ1RTX1NUQVJURUQnLFxyXG4gIEZFVENIX0NPTlRBQ1RTX1NVQ0NFU1M6ICdGRVRDSF9DT05UQUNUU19TVUNDRVNTJyxcclxuICBGRVRDSF9DT05UQUNUU19GQUlMRUQ6ICdGRVRDSF9DT05UQUNUU19GQUlMRUQnLFxyXG4gIEdFVF9MT0NBTF9DT05UQUNUUzogJ0dFVF9MT0NBTF9DT05UQUNUUycsXHJcbiAgRklORF9DT05UQUNUOiAnRklORF9DT05UQUNUJyxcclxuICBDT05UQUNUX0lTX09OTElORTogJ0NPTlRBQ1RfSVNfT05MSU5FJyxcclxuICBDT05UQUNUX0lTX09GRkxJTkU6ICdDT05UQUNUX0lTX09GRkxJTkUnLFxyXG4gIENPTlRBQ1RfU1RBVEVfQ0hBTkdFRDogJ0NPTlRBQ1RfU1RBVEVfQ0hBTkdFRCcsXHJcbn07XHJcblxyXG5hc3luYyBmdW5jdGlvbiBmZXRjaENvbnRhY3RzKHsgZGlzcGF0Y2gsIHVzZXJuYW1lIH0pIHtcclxuICB0cnkge1xyXG4gICAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25UeXBlcy5GRVRDSF9DT05UQUNUU19TVEFSVEVEIH0pO1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2NvbnRhY3RzL2ZpbmQ/dXNlcm5hbWU9JHt1c2VybmFtZX1gKTtcclxuICAgIGNvbnN0IHsgY29udGFjdHMgfSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvblR5cGVzLkZFVENIX0NPTlRBQ1RTX1NVQ0NFU1MsIGNvbnRhY3RzIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvblR5cGVzLkZFVENIX0NPTlRBQ1RTX0ZBSUxFRCwgZXJyb3IgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRMb2NhbENvbnRhY3RzKHsgZGlzcGF0Y2gsIGNvbnRhY3RzIH0pIHtcclxuICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvblR5cGVzLkdFVF9MT0NBTF9DT05UQUNUUywgY29udGFjdHMgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbmRDb250YWN0KHsgZGlzcGF0Y2gsIGZpbHRlciB9KSB7XHJcbiAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25UeXBlcy5GSU5EX0NPTlRBQ1QsIGZpbHRlciB9KTtcclxufVxyXG5cclxuY29uc3QgaW5pdFN0YXRlID0ge1xyXG4gIGxvYWRpbmc6IGZhbHNlLFxyXG4gIGVycm9yOiBudWxsLFxyXG4gIGNvbnRhY3RzOiBbXSxcclxufTtcclxuXHJcbmZ1bmN0aW9uIGNvbnRhY3RzUmVkdWNlcihzdGF0ZSwgYWN0aW9uKSB7XHJcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xyXG4gICAgY2FzZSBhY3Rpb25UeXBlcy5GRVRDSF9DT05UQUNUU19TVEFSVEVEOlxyXG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgbG9hZGluZzogdHJ1ZSB9O1xyXG4gICAgY2FzZSBhY3Rpb25UeXBlcy5GRVRDSF9DT05UQUNUU19TVUNDRVNTOlxyXG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgbG9hZGluZzogZmFsc2UsIGNvbnRhY3RzOiBhY3Rpb24uY29udGFjdHMgfTtcclxuICAgIGNhc2UgYWN0aW9uVHlwZXMuRkVUQ0hfQ09OVEFDVFNfRkFJTEVEOlxyXG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgbG9hZGluZzogZmFsc2UsIGVycm9yOiBhY3Rpb24uZXJyb3IgfTtcclxuICAgIGNhc2UgYWN0aW9uVHlwZXMuRklORF9DT05UQUNUOlxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgIGNvbnRhY3RzOiBzdGF0ZS5jb250YWN0cy5maWx0ZXIoKGMpID0+IGMudXNlcm5hbWUgPT09IGFjdGlvbi5maWx0ZXIpLFxyXG4gICAgICB9O1xyXG4gICAgY2FzZSBhY3Rpb25UeXBlcy5HRVRfTE9DQUxfQ09OVEFDVFM6XHJcbiAgICAgIGNvbnN0IG5leHRTdGF0ZSA9IHsgLi4uc3RhdGUsIGNvbnRhY3RzOiBhY3Rpb24uY29udGFjdHMgfTtcclxuXHJcbiAgICAgIHJldHVybiBuZXh0U3RhdGU7XHJcbiAgICBjYXNlIGFjdGlvblR5cGVzLkNPTlRBQ1RfSVNfT05MSU5FOlxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgIGNvbnRhY3RzOiBzdGF0ZS5jb250YWN0cy5tYXAoKGMpID0+IHtcclxuICAgICAgICAgIGlmIChjLnVzZXJuYW1lID09PSBhY3Rpb24udXNlcm5hbWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgLi4uYywgb25saW5lOiB0cnVlIH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSksXHJcbiAgICAgIH07XHJcbiAgICBjYXNlIGFjdGlvblR5cGVzLkNPTlRBQ1RfSVNfT0ZGTElORTpcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICAuLi5zdGF0ZSxcclxuICAgICAgICBjb250YWN0czogc3RhdGUuY29udGFjdHMubWFwKChjKSA9PiB7XHJcbiAgICAgICAgICBpZiAoYy51c2VybmFtZSA9PT0gYWN0aW9uLnVzZXJuYW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmMsIG9ubGluZTogZmFsc2UgfTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KSxcclxuICAgICAgfTtcclxuICAgIGNhc2UgYWN0aW9uVHlwZXMuQ09OVEFDVF9TVEFURV9DSEFOR0VEOlxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgIGNvbnRhY3RzOiBzdGF0ZS5jb250YWN0cy5tYXAoKGMpID0+IHtcclxuICAgICAgICAgIGlmIChjLnVzZXJuYW1lID09PSBhY3Rpb24udXNlcm5hbWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgLi4uYywgc3RhdGU6IGFjdGlvbi5zdGF0ZSB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pLFxyXG4gICAgICB9O1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVzZUNvbnRhY3RzKHsgZmlsdGVyLCB1c2VybmFtZSB9KSB7XHJcbiAgY29uc3QgW3N0YXRlLCBkaXNwYXRjaF0gPSB1c2VSZWR1Y2VyKGNvbnRhY3RzUmVkdWNlciwgaW5pdFN0YXRlKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShgY29udGFjdHMtJHt1c2VybmFtZX1gKSkge1xyXG4gICAgICBjb25zdCBzdG9yYWdlID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShgY29udGFjdHMtJHt1c2VybmFtZX1gKSk7XHJcbiAgICAgIGdldExvY2FsQ29udGFjdHMoeyBkaXNwYXRjaCwgY29udGFjdHM6IHN0b3JhZ2UuY29udGFjdHMgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmZXRjaENvbnRhY3RzKHsgZGlzcGF0Y2gsIHVzZXJuYW1lIH0pO1xyXG4gICAgfVxyXG4gIH0sIFtdKTtcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGZpbHRlciAmJiBmaWx0ZXIubGVuZ3RoID4gMykge1xyXG4gICAgICBmaW5kQ29udGFjdCh7IGRpc3BhdGNoLCBmaWx0ZXIgfSk7XHJcbiAgICB9XHJcbiAgfSwgW2ZpbHRlcl0pO1xyXG5cclxuICByZXR1cm4geyBzdGF0ZSB9O1xyXG59XHJcbiIsImltcG9ydCB7IHVzZVdlYlNvY2tldENvbnRleHQgfSBmcm9tICcuL1dlYlNvY2tldFByb3ZpZGVyJztcclxuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdwcmVhY3QvaG9va3MnO1xyXG5pbXBvcnQgeyBzdGF0dXMgfSBmcm9tICcuL2NvbnRhY3RzL3N0YXR1cyc7XHJcbmltcG9ydCB7IGFjdGlvblR5cGVzIH0gZnJvbSAnLi9jb250YWN0cy91c2VDb250YWN0cyc7XHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VXZWJTb2NrZXQoeyB1c2VybmFtZSwgdGFyZ2V0LCBkaXNwYXRjaCB9KSB7XHJcbiAgY29uc3QgW21lc3NhZ2UsIHNldE1lc3NhZ2VdID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IHsgc29ja2V0IH0gPSB1c2VXZWJTb2NrZXRDb250ZXh0KCk7XHJcbiAgZnVuY3Rpb24gb25JbnZpdGUoKSB7XHJcbiAgICBkaXNwYXRjaCh7XHJcbiAgICAgIHR5cGU6IGFjdGlvblR5cGVzLkNPTlRBQ1RfU1RBVEVfQ0hBTkdFRCxcclxuICAgICAgdXNlcm5hbWU6IHRhcmdldCxcclxuICAgICAgc3RhdGU6IHN0YXR1cy5JTlZJVEVFLFxyXG4gICAgfSk7XHJcbiAgICBsZXQgbXNnID0ge1xyXG4gICAgICBtZXNzYWdlLFxyXG4gICAgICB0eXBlOiBzdGF0dXMuSU5WSVRFRSxcclxuICAgICAgdGFyZ2V0LFxyXG4gICAgfTtcclxuXHJcbiAgICBzb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeShtc2cpKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIG9uQWNjZXB0KCkge1xyXG4gICAgZGlzcGF0Y2goe1xyXG4gICAgICB0eXBlOiBhY3Rpb25UeXBlcy5DT05UQUNUX1NUQVRFX0NIQU5HRUQsXHJcbiAgICAgIHVzZXJuYW1lOiB0YXJnZXQsXHJcbiAgICAgIHN0YXRlOiBzdGF0dXMuQ0hBVCxcclxuICAgIH0pO1xyXG4gICAgbGV0IG1zZyA9IHtcclxuICAgICAgbWVzc2FnZSxcclxuICAgICAgdHlwZTogc3RhdHVzLkNIQVQsXHJcbiAgICAgIHRhcmdldCxcclxuICAgIH07XHJcbiAgICBzb2NrZXQuc2VuZCh7IG1lc3NhZ2U6IEpTT04uc3RyaW5naWZ5KG1zZykgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBvbkRlY2xpbmUoKSB7XHJcbiAgICBkaXNwYXRjaCh7XHJcbiAgICAgIHR5cGU6IGFjdGlvblR5cGVzLkNPTlRBQ1RfU1RBVEVfQ0hBTkdFRCxcclxuICAgICAgdXNlcm5hbWU6IHRhcmdldCxcclxuICAgICAgc3RhdGU6IHN0YXR1cy5ERUNMSU5FRCxcclxuICAgIH0pO1xyXG4gICAgbGV0IG1zZyA9IHsgdHlwZTogc3RhdHVzLkRFQ0xJTkVELCB0YXJnZXQgfTtcclxuICAgIHNvY2tldC5zZW5kKHsgbWVzc2FnZTogSlNPTi5zdHJpbmdpZnkobXNnKSB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIG9uQmxvY2soKSB7XHJcbiAgICBkaXNwYXRjaCh7XHJcbiAgICAgIHR5cGU6IGFjdGlvblR5cGVzLkNPTlRBQ1RfU1RBVEVfQ0hBTkdFRCxcclxuICAgICAgdXNlcm5hbWU6IHRhcmdldCxcclxuICAgICAgc3RhdGU6IHN0YXR1cy5CTE9DS0VELFxyXG4gICAgfSk7XHJcbiAgICBsZXQgbXNnID0geyB0eXBlOiBzdGF0dXMuQkxPQ0tFRCwgdGFyZ2V0IH07XHJcbiAgICBzb2NrZXQuc2VuZCh7IG1lc3NhZ2U6IEpTT04uc3RyaW5naWZ5KG1zZykgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBvblVuYmxvY2soKSB7XHJcbiAgICBkaXNwYXRjaCh7XHJcbiAgICAgIHR5cGU6IGFjdGlvblR5cGVzLkNPTlRBQ1RfU1RBVEVfQ0hBTkdFRCxcclxuICAgICAgdXNlcm5hbWU6IHRhcmdldCxcclxuICAgICAgc3RhdGU6IHN0YXR1cy5DSEFULFxyXG4gICAgfSk7XHJcbiAgICBsZXQgbXNnID0geyB0eXBlOiBzdGF0dXMuQ0hBVCwgdGFyZ2V0IH07XHJcbiAgICBzb2NrZXQuc2VuZCh7IG1lc3NhZ2U6IEpTT04uc3RyaW5naWZ5KG1zZykgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XHJcbiAgICBjb25zdCB7IHZhbHVlIH0gPSBlLnRhcmdldDtcclxuICAgIHNldE1lc3NhZ2UodmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc2VuZE1lc3NhZ2UoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgbXNnID0ge1xyXG4gICAgICAgIHR5cGU6IGNvbnRhY3RTdGF0dXMuTUVTU0FHRSxcclxuICAgICAgICB0YXJnZXQsXHJcbiAgICAgICAgbWVzc2FnZSxcclxuICAgICAgfTtcclxuICAgICAgbGV0IHN0ck1ncyA9IEpTT04uc3RyaW5naWZ5KG1zZyk7XHJcbiAgICAgIGRlYnVnZ2VyO1xyXG4gICAgICBzb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeShzdHJNZ3MpKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnN0IGVyciA9IGVycm9yO1xyXG4gICAgICBkZWJ1Z2dlcjtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHtcclxuICAgIG9uSW52aXRlLFxyXG4gICAgb25BY2NlcHQsXHJcbiAgICBvbkRlY2xpbmUsXHJcbiAgICBvbkJsb2NrLFxyXG4gICAgb25VbmJsb2NrLFxyXG4gICAgb25DaGFuZ2UsXHJcbiAgICBtZXNzYWdlLFxyXG4gICAgc2VuZE1lc3NhZ2UsXHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgeyBoIH0gZnJvbSAncHJlYWN0JztcclxuaW1wb3J0IHsgU3VzcGVuc2UsIGxhenkgfSBmcm9tICdwcmVhY3QvY29tcGF0JztcclxuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncHJlYWN0L2hvb2tzJztcclxuaW1wb3J0IHsgUm91dGUsIHVzZVJvdXRlQ29udGV4dCB9IGZyb20gJy4uL3JvdXRlL3JvdXRlcic7XHJcbmltcG9ydCB7IHVzZUNvbnRhY3RzQ29udGV4dCB9IGZyb20gJy4vY29udGFjdHMvY29udGFjdC1jb250ZXh0JztcclxuaW1wb3J0IHsgdXNlQXBwQ29udGV4dCB9IGZyb20gJy4uL2FwcC1jb250ZXh0L2FwcC1jb250ZXh0JztcclxuaW1wb3J0IHsgdXNlQXV0aENvbnRleHQgfSBmcm9tICcuLi9hdXRoL2F1dGgtY29udGV4dCc7XHJcbmltcG9ydCB7IHVzZVdlYlNvY2tldCB9IGZyb20gJy4vdXNlV2ViU29ja2V0JztcclxuY29uc3QgQ29udGFjdHMgPSBsYXp5KCgpID0+IGltcG9ydCgnLi9jb250YWN0cy9Db250YWN0cycpKTtcclxuY29uc3QgQmxvY2sgPSBsYXp5KCgpID0+IGltcG9ydCgnLi92aWV3cy9CbG9jaycpKTtcclxuY29uc3QgQmxvY2tlZCA9IGxhenkoKCkgPT4gaW1wb3J0KCcuL3ZpZXdzL0Jsb2NrZWQnKSk7XHJcbmNvbnN0IENoYXQgPSBsYXp5KCgpID0+IGltcG9ydCgnLi92aWV3cy9DaGF0JykpO1xyXG5jb25zdCBDb25maWd1cmUgPSBsYXp5KCgpID0+IGltcG9ydCgnLi92aWV3cy9Db25maWd1cmUnKSk7XHJcbmNvbnN0IEludml0ZSA9IGxhenkoKCkgPT4gaW1wb3J0KCcuL3ZpZXdzL0ludml0ZScpKTtcclxuY29uc3QgSW52aXRlZSA9IGxhenkoKCkgPT4gaW1wb3J0KCcuL3ZpZXdzL0ludml0ZWUnKSk7XHJcbmNvbnN0IEludml0ZXIgPSBsYXp5KCgpID0+IGltcG9ydCgnLi92aWV3cy9JbnZpdGVyJykpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUGVlclRvUGVlck1vYmlsZSgpIHtcclxuICBjb25zdCBhdXRoQ29udGV4dCA9IHVzZUF1dGhDb250ZXh0KCk7XHJcbiAgY29uc3QgW3N0YXRlLCBkaXNwYXRjaF0gPSB1c2VDb250YWN0c0NvbnRleHQoKTtcclxuICBjb25zdCBbcm91dGUsIHNldFJvdXRlXSA9IHVzZVJvdXRlQ29udGV4dCgpO1xyXG4gIGNvbnN0IHsgY29udGFjdCB9ID0gc3RhdGU7XHJcbiAgY29uc3QgeyB1c2VybmFtZSB9ID0gYXV0aENvbnRleHQuc3RhdGU7XHJcbiAgY29uc3QgeyBhY2NlcHRfaW52X2ltZyB9ID0gdXNlQXBwQ29udGV4dCgpO1xyXG4gIGNvbnN0IHtcclxuICAgIG9uSW52aXRlLFxyXG4gICAgb25BY2NlcHQsXHJcbiAgICBvbkJsb2NrLFxyXG4gICAgb25VbmJsb2NrLFxyXG4gICAgb25EZWNsaW5lLFxyXG4gICAgb25DaGFuZ2UsXHJcbiAgICBtZXNzYWdlLFxyXG4gICAgc2VuZE1lc3NhZ2UsXHJcbiAgfSA9IHVzZVdlYlNvY2tldCh7IHVzZXJuYW1lLCB0YXJnZXQ6IGNvbnRhY3QgJiYgY29udGFjdC51c2VybmFtZSwgZGlzcGF0Y2ggfSk7XHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChjb250YWN0KSB7XHJcbiAgICAgIHNldFJvdXRlKGAvJHtjb250YWN0LnN0YXRlfWApO1xyXG4gICAgfVxyXG4gIH0sIFtjb250YWN0XSk7XHJcblxyXG4gIGZ1bmN0aW9uIG9uU2V0dGluZygpIHtcclxuICAgIHNldFJvdXRlKCcvY29maWd1cmUnKTtcclxuICB9XHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgc3R5bGU9e3sgaGVpZ2h0OiAnODV2aCcgfX0+XHJcbiAgICAgIDxSb3V0ZSBwYXRoPScvY29udGFjdHMnPlxyXG4gICAgICAgIDxTdXNwZW5zZSBmYWxsYmFjaz17PGRpdj5sb2FkaW5nLi4uPC9kaXY+fT5cclxuICAgICAgICAgIDxDb250YWN0cyAvPlxyXG4gICAgICAgIDwvU3VzcGVuc2U+XHJcbiAgICAgIDwvUm91dGU+XHJcblxyXG4gICAgICA8Um91dGUgcGF0aD0nL2Jsb2NrJz5cclxuICAgICAgICA8U3VzcGVuc2UgZmFsbGJhY2s9ezxkaXY+bG9hZGluZy4uLjwvZGl2Pn0+XHJcbiAgICAgICAgICA8QmxvY2sgY29udGFjdD17Y29udGFjdH0gb25CbG9jaz17b25CbG9ja30gc2V0Um91dGU9e3NldFJvdXRlfSAvPlxyXG4gICAgICAgIDwvU3VzcGVuc2U+XHJcbiAgICAgIDwvUm91dGU+XHJcbiAgICAgIDxSb3V0ZSBwYXRoPScvYmxvY2tlZCc+XHJcbiAgICAgICAgPFN1c3BlbnNlIGZhbGxiYWNrPXs8ZGl2PmxvYWRpbmcuLi48L2Rpdj59PlxyXG4gICAgICAgICAgPEJsb2NrZWRcclxuICAgICAgICAgICAgY29udGFjdD17Y29udGFjdH1cclxuICAgICAgICAgICAgb25VbmJsb2NrPXtvblVuYmxvY2t9XHJcbiAgICAgICAgICAgIHNldFJvdXRlPXtzZXRSb3V0ZX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgPC9TdXNwZW5zZT5cclxuICAgICAgPC9Sb3V0ZT5cclxuICAgICAgPFJvdXRlIHBhdGg9Jy9hY2NlcHRlZCc+XHJcbiAgICAgICAgPFN1c3BlbnNlIGZhbGxiYWNrPXs8ZGl2PmxvYWRpbmcuLi48L2Rpdj59PlxyXG4gICAgICAgICAgPENoYXRcclxuICAgICAgICAgICAgY29udGFjdD17Y29udGFjdH1cclxuICAgICAgICAgICAgb25TZXR0aW5nPXtvblNldHRpbmd9XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cclxuICAgICAgICAgICAgbWVzc2FnZT17bWVzc2FnZX1cclxuICAgICAgICAgICAgc2VuZE1lc3NhZ2U9e3NlbmRNZXNzYWdlfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L1N1c3BlbnNlPlxyXG4gICAgICA8L1JvdXRlPlxyXG4gICAgICA8Um91dGUgcGF0aD0nL2NvZmlndXJlJz5cclxuICAgICAgICA8U3VzcGVuc2UgZmFsbGJhY2s9ezxkaXY+bG9hZGluZy4uLjwvZGl2Pn0+XHJcbiAgICAgICAgICA8Q29uZmlndXJlIGNvbnRhY3Q9e2NvbnRhY3R9IHNldFJvdXRlPXtzZXRSb3V0ZX0gLz5cclxuICAgICAgICA8L1N1c3BlbnNlPlxyXG4gICAgICA8L1JvdXRlPlxyXG4gICAgICA8Um91dGUgcGF0aD0nL2ludml0ZSc+XHJcbiAgICAgICAgPFN1c3BlbnNlIGZhbGxiYWNrPXs8ZGl2PmxvYWRpbmcuLi48L2Rpdj59PlxyXG4gICAgICAgICAgPEludml0ZVxyXG4gICAgICAgICAgICBjb250YWN0PXtjb250YWN0fVxyXG4gICAgICAgICAgICBvbkludml0ZT17b25JbnZpdGV9XHJcbiAgICAgICAgICAgIHNldFJvdXRlPXtzZXRSb3V0ZX1cclxuICAgICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlfVxyXG4gICAgICAgICAgICBtZXNzYWdlPXttZXNzYWdlfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L1N1c3BlbnNlPlxyXG4gICAgICA8L1JvdXRlPlxyXG4gICAgICA8Um91dGUgcGF0aD0nL2ludml0ZWUnPlxyXG4gICAgICAgIDxTdXNwZW5zZSBmYWxsYmFjaz17PGRpdj5sb2FkaW5nLi4uPC9kaXY+fT5cclxuICAgICAgICAgIDxJbnZpdGVlIGNvbnRhY3Q9e2NvbnRhY3R9IC8+XHJcbiAgICAgICAgPC9TdXNwZW5zZT5cclxuICAgICAgPC9Sb3V0ZT5cclxuICAgICAgPFJvdXRlIHBhdGg9Jy9pbnZpdGVyJz5cclxuICAgICAgICA8U3VzcGVuc2UgZmFsbGJhY2s9ezxkaXY+bG9hZGluZy4uLjwvZGl2Pn0+XHJcbiAgICAgICAgICA8SW52aXRlclxyXG4gICAgICAgICAgICBhY2NlcHRfaW52X2ltZz17YWNjZXB0X2ludl9pbWd9XHJcbiAgICAgICAgICAgIGNvbnRhY3Q9e2NvbnRhY3R9XHJcbiAgICAgICAgICAgIG9uQWNjZXB0PXtvbkFjY2VwdH1cclxuICAgICAgICAgICAgb25EZWNsaW5lPXtvbkRlY2xpbmV9XHJcbiAgICAgICAgICAgIHNldFJvdXRlPXtzZXRSb3V0ZX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgPC9TdXNwZW5zZT5cclxuICAgICAgPC9Sb3V0ZT5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuIl0sIm5hbWVzIjpbInN0YXR1cyIsIklOVklURUUiLCJJTlZJVEVSIiwiQ0hBVCIsIkRFQ0xJTkVEIiwiREVDTElORVIiLCJCTE9DS0VEIiwiQkxPQ0tFUiIsImFjdGlvblR5cGVzIiwiRkVUQ0hfQ09OVEFDVFNfU1RBUlRFRCIsIkZFVENIX0NPTlRBQ1RTX1NVQ0NFU1MiLCJGRVRDSF9DT05UQUNUU19GQUlMRUQiLCJHRVRfTE9DQUxfQ09OVEFDVFMiLCJGSU5EX0NPTlRBQ1QiLCJDT05UQUNUX0lTX09OTElORSIsIkNPTlRBQ1RfSVNfT0ZGTElORSIsIkNPTlRBQ1RfU1RBVEVfQ0hBTkdFRCIsImZldGNoQ29udGFjdHMiLCJkaXNwYXRjaCIsInVzZXJuYW1lIiwidHlwZSIsInJlc3BvbnNlIiwiZmV0Y2giLCJjb250YWN0cyIsImpzb24iLCJlcnJvciIsImdldExvY2FsQ29udGFjdHMiLCJmaW5kQ29udGFjdCIsImZpbHRlciIsImluaXRTdGF0ZSIsImxvYWRpbmciLCJjb250YWN0c1JlZHVjZXIiLCJzdGF0ZSIsImFjdGlvbiIsImMiLCJuZXh0U3RhdGUiLCJtYXAiLCJvbmxpbmUiLCJ1c2VDb250YWN0cyIsInVzZVJlZHVjZXIiLCJ1c2VFZmZlY3QiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic3RvcmFnZSIsIkpTT04iLCJwYXJzZSIsImxlbmd0aCIsInVzZVdlYlNvY2tldCIsInRhcmdldCIsIm1lc3NhZ2UiLCJzZXRNZXNzYWdlIiwidXNlU3RhdGUiLCJzb2NrZXQiLCJ1c2VXZWJTb2NrZXRDb250ZXh0Iiwib25JbnZpdGUiLCJtc2ciLCJzZW5kIiwic3RyaW5naWZ5Iiwib25BY2NlcHQiLCJvbkRlY2xpbmUiLCJvbkJsb2NrIiwib25VbmJsb2NrIiwib25DaGFuZ2UiLCJlIiwidmFsdWUiLCJzZW5kTWVzc2FnZSIsImNvbnRhY3RTdGF0dXMiLCJNRVNTQUdFIiwic3RyTWdzIiwiQ29udGFjdHMiLCJsYXp5IiwiQmxvY2siLCJCbG9ja2VkIiwiQ2hhdCIsIkNvbmZpZ3VyZSIsIkludml0ZSIsIkludml0ZWUiLCJJbnZpdGVyIiwiUGVlclRvUGVlck1vYmlsZSIsImF1dGhDb250ZXh0IiwidXNlQXV0aENvbnRleHQiLCJ1c2VDb250YWN0c0NvbnRleHQiLCJyb3V0ZSIsInNldFJvdXRlIiwidXNlUm91dGVDb250ZXh0IiwiY29udGFjdCIsImFjY2VwdF9pbnZfaW1nIiwidXNlQXBwQ29udGV4dCIsIm9uU2V0dGluZyIsImhlaWdodCIsIlN1c3BlbnNlIl0sIm1hcHBpbmdzIjoiOzs7QUFBTyxNQUFNQSxNQUFNLEdBQUc7QUFDcEJDLEVBQUFBLE9BQU8sRUFBRSxTQURXO0FBRXBCQyxFQUFBQSxPQUFPLEVBQUUsU0FGVztBQUdwQkMsRUFBQUEsSUFBSSxFQUFFLE1BSGM7QUFJcEJDLEVBQUFBLFFBQVEsRUFBRSxVQUpVO0FBS3BCQyxFQUFBQSxRQUFRLEVBQUUsVUFMVTtBQU1wQkMsRUFBQUEsT0FBTyxFQUFFLFNBTlc7QUFPcEJDLEVBQUFBLE9BQU8sRUFBRTtBQVBXLENBQWY7O0FDQ0EsTUFBTUMsV0FBVyxHQUFHO0FBQ3pCQyxFQUFBQSxzQkFBc0IsRUFBRSx3QkFEQztBQUV6QkMsRUFBQUEsc0JBQXNCLEVBQUUsd0JBRkM7QUFHekJDLEVBQUFBLHFCQUFxQixFQUFFLHVCQUhFO0FBSXpCQyxFQUFBQSxrQkFBa0IsRUFBRSxvQkFKSztBQUt6QkMsRUFBQUEsWUFBWSxFQUFFLGNBTFc7QUFNekJDLEVBQUFBLGlCQUFpQixF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
